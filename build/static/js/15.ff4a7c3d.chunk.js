(this["webpackJsonpberry-material-react"]=this["webpackJsonpberry-material-react"]||[]).push([[15],{1463:function(e,t,o){"use strict";o.r(t);var n=o(4),a=o(24),i=o(14),c=o(0),r=o.n(c),d=o(701),l=o(691),s=o(406),u=o(407),b=(o(738),o(762),o(134)),O=o(744),j=o(861),m=o(751),g=o(749),v=o(155),p=o(761),f=o(748),C=o(120),h=o(1),y="MO";t.default=function(e){var t,o,S,M=Object(c.useState)(!1),L=Object(i.a)(M,2),w=L[0],x=L[1],N=Object(c.useState)(!1),I=Object(i.a)(N,2),T=(I[0],I[1],Object(c.useState)("")),k=Object(i.a)(T,2),D=k[0],R=k[1],B=Object(c.useState)(!1),U=Object(i.a)(B,2),Q=U[0],E=U[1],H=Object(c.useState)(!1),F=Object(i.a)(H,2),A=F[0],W=F[1],V=Object(c.useState)(!1),P=Object(i.a)(V,2),_=(P[0],P[1]),J=Object(c.useState)(!0),X=Object(i.a)(J,2),z=X[0],q=X[1],G=Object(c.useState)([]),K=Object(i.a)(G,2),Y=(K[0],K[1]),Z=Object(c.useState)(!1),$=Object(i.a)(Z,2),ee=($[0],$[1]),te=Object(c.useState)(0),oe=Object(i.a)(te,2),ne=(oe[0],oe[1]),ae=Object(c.useState)(!1),ie=Object(i.a)(ae,2),ce=(ie[0],ie[1]),re=r.a.useState(new Date),de=Object(i.a)(re,2),le=(de[0],de[1],Object(c.useState)(!1)),se=Object(i.a)(le,2),ue=(se[0],se[1],!1),be=Object(c.useState)({TransDate:new Date,TransNo:"",TransType:"MO",LocationCode:"",Location:"",ItemCode:"",Item:"",UOMCode:"",UOM:"",RoutingCode:"",RoutingName:"",TransStatus:"",UnitQuantity:"",Quantity:"",BaseQuantity:"",MOStatus:"",BOMID:""}),Oe=Object(i.a)(be,2),je=Oe[0],me=Oe[1],ge=Object(c.useState)({registerNotOpen:!0,viewList:!1,newList:!1,editList:!1}),ve=Object(i.a)(ge,2),pe=ve[0],fe=ve[1],Ce=Object(c.useState)({columns:[{field:"CItemCode",title:"Item Code",headerName:"Item Code",width:250,editable:!0},{field:"CItemName",title:"Item Name",headerName:"Item Name",width:350,editable:!1},{title:"UOM",field:"UOM",headerName:"UOM",width:150,editable:!0,align:"left"},{title:"Stage",field:"StageName",headerName:"Stage",width:150,editable:!1},{title:"Quantity",field:"Quantity",headerName:"Quantity",width:150,editable:!0,type:"number",align:"right"}],rows:[]}),he=Object(i.a)(Ce,2),ye=he[0],Se=he[1],Me=Object(c.useState)({columns:[{title:"Location Code",field:"LocationCode",cellStyle:{border:"1px solid #ccc8c8",paddingTop:1,paddingBottom:1,width:"35%"},headerStyle:{border:"1px solid #ccc8c8",fontWeight:"bolder",background:"#e3dede",paddingTop:1,width:"35%"}},{title:"Location",field:"LocationName",cellStyle:{border:"1px solid #ccc8c8",paddingTop:1,paddingBottom:1,width:"35%"},headerStyle:{border:"1px solid #ccc8c8",fontWeight:"bolder",background:"#e3dede",paddingTop:1,width:"35%"}}],rows:[{LocationCode:"001",LocationName:"Factory"},{LocationCode:"002",LocationName:"WareHouse"},{LocationCode:"003",LocationName:"Plant"}]}),Le=Object(i.a)(Me,2),we=Le[0],xe=Le[1],Ne=Object(c.useState)({columns:[{title:"Item Code",field:"ItemCode",cellStyle:{border:"1px solid #ccc8c8",paddingTop:1,paddingBottom:1,width:"35%"},headerStyle:{border:"1px solid #ccc8c8",fontWeight:"bolder",background:"#e3dede",paddingTop:1,width:"35%"}},{title:"Item",field:"ItemName",cellStyle:{border:"1px solid #ccc8c8",paddingTop:1,paddingBottom:1,width:"35%"},headerStyle:{border:"1px solid #ccc8c8",fontWeight:"bolder",background:"#e3dede",paddingTop:1,width:"35%"}},{title:"UoM code",field:"UOMCode",cellStyle:{border:"1px solid #ccc8c8",paddingTop:1,paddingBottom:1,width:"35%"},headerStyle:{border:"1px solid #ccc8c8",fontWeight:"bolder",background:"#e3dede",paddingTop:1,width:"35%"}},{title:"Routing Code",field:"RoutingName",cellStyle:{border:"1px solid #ccc8c8",paddingTop:1,paddingBottom:1,width:"35%"},headerStyle:{border:"1px solid #ccc8c8",fontWeight:"bolder",background:"#e3dede",paddingTop:1,width:"35%"}}],rows:[{ItemCode:"Buttons",ItemName:"Buttons",UOMCode:"NOS",RoutingName:"Textile"},{ItemCode:"F-001",ItemName:"Fabric 12/16",UOMCode:"METER",RoutingName:"001"},{ItemCode:"MENS TROUSER",ItemName:"MENS TROUSER",UOMCode:"NOS",RoutingName:"TEXTILE"},{ItemCode:"MENS T-SHIRT",ItemName:"MENS T-SHIRT",UOMCode:"NOS",RoutingName:"TEXTILE"}]}),Ie=Object(i.a)(Ne,2),Te=Ie[0],ke=Ie[1],De=Object(b.c)(),Re=Object(b.d)((function(e){return e.lookupRes})),Be=Object(b.d)((function(e){return e.AllActionsRes})),Ue=null===Be||void 0===Be||null===(t=Be.singleList)||void 0===t||null===(o=t.Message)||void 0===o?void 0:o.Header;Object(c.useEffect)((function(){if(Be.error)De(Object(O.m)());else if(null!==Be&&void 0!==Be&&Be.singleList){var e,t;if(!0===(null===Be||void 0===Be?void 0:Be.singleList.Success))me(null===Be||void 0===Be||null===(e=Be.singleList)||void 0===e?void 0:e.Message.Header),Se(Object(n.a)(Object(n.a)({},ye),{},{rows:null===Be||void 0===Be||null===(t=Be.singleList)||void 0===t?void 0:t.Message.Detail})),De(Object(O.m)());else setOnBlueDisable(!1)}}),[Be]);var Qe=function(){return""===je.ItemCode||void 0===je.ItemCode||null===je.ItemCode?(fe({open:!0,severity:"error",msg:"Empty BoM Code Not Allowed"}),!1):""===je.Quantity||void 0===je.Quantity||null===je.Quantity?(fe({open:!0,severity:"error",msg:"Empty Qunatity Not Allowed"}),!1):""!==je.Location&&void 0!==je.Location&&null!==je.ShiftHeaLocationd||(fe({open:!0,severity:"error",msg:"Empty Location Not Allowed"}),!1)},Ee=function(){fe(Object(n.a)(Object(n.a)({},pe),{},{open:!1}))},He=function(e,t){S=t,ue=!1},Fe=function(e,t,o){e.target.value;"Location"==o?(me(Object(n.a)(Object(n.a)({},je),{},{Location:null===t||void 0===t?void 0:t.Location,LocationCode:null===t||void 0===t?void 0:t.LocationCode})),E(!1)):"BoMCode"==o&&(me(Object(n.a)(Object(n.a)({},je),{},{Item:null===t||void 0===t?void 0:t.ItemName,ItemCode:null===t||void 0===t?void 0:t.ItemCode,UOM:null===t||void 0===t?void 0:t.UOM,UOMCode:null===t||void 0===t?void 0:t.UOMCode,UnitQuantity:null===t||void 0===t?void 0:t.UnitQty,RoutingName:null===t||void 0===t?void 0:t.RoutingName,RoutingCode:null===t||void 0===t?void 0:t.RoutingCode,BOMID:null===t||void 0===t?void 0:t.BOMID})),W(!1))},Ae=function(){De(Object(O.d)("FormName=".concat("Locations")))},We=function(){De(Object(O.i)("FormName=ActiveBOM"))},Ve=function(e){"Release"===e?Qe()&&(De(Object(O.g)("FormName=MOEntry&BOMID=".concat(je.BOMID,"&Qty=").concat(je.BaseQuantity))),me((function(t){return Object(n.a)(Object(n.a)({},t),{},{MOStatus:e})}))):Qe()&&(me((function(t){return Object(n.a)(Object(n.a)({},t),{},{MOStatus:e})})),Se(Object(n.a)(Object(n.a)({},ye),{},{rows:[]})))};Object(c.useEffect)((function(){null!==Re&&void 0!==Re&&Re.lookupDataInventory&&(!0===(null===Re||void 0===Re?void 0:Re.lookupDataInventory.Success)?xe(Re.lookupDataInventory.Message.Location):fe({open:!0,severity:"error",msg:"Some Thing Went Wrong"}))}),[null===Re||void 0===Re?void 0:Re.lookupDataInventory]),Object(c.useEffect)((function(){var e,t;null!==Re&&void 0!==Re&&Re.lookupData&&(!0===(null===Re||void 0===Re||null===(e=Re.lookupData)||void 0===e?void 0:e.Success)?ke(null===Re||void 0===Re||null===(t=Re.lookupData)||void 0===t?void 0:t.Message.BOM):fe({open:!0,severity:"error",msg:"Some Thing Went Wrong"}))}),[null===Re||void 0===Re?void 0:Re.lookupData]),Object(c.useEffect)((function(){var e,t;null!==Re&&void 0!==Re&&Re.lookupData2&&(!0===(null===Re||void 0===Re||null===(e=Re.lookupData2)||void 0===e?void 0:e.Success)?Se(Object(n.a)(Object(n.a)({},ye),{},{rows:null===Re||void 0===Re||null===(t=Re.lookupData2)||void 0===t?void 0:t.Message.MODetail})):fe({open:!0,severity:"error",msg:"Some Thing Went Wrong"}))}),[null===Re||void 0===Re?void 0:Re.lookupData2]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(d.a,{item:!0,xs:12,children:Object(h.jsx)(m.d,{property:pe,close:Ee,onClick:Ee})}),pe.registerNotOpen?Object(h.jsx)(d.a,{container:!0,children:Object(h.jsx)(m.k,{Details:"MO Entry List",FormName:y,DialogClose:function(){fe((function(e){return Object(n.a)(Object(n.a)({},e),{},{registerNotOpen:!0,msg:""})})),me({TransDate:new Date,TransNo:"",TransType:"MO",LocationCode:"",Location:"",ItemCode:"",Item:"",UOMCode:"",UOM:"",RoutingCode:"",RoutingName:"",TransStatus:"",UnitQuantity:"",Quantity:"",BaseQuantity:"",MOStatus:"",BOMID:""}),Se((function(e){return Object(n.a)(Object(n.a)({},e),{},{rows:[]})})),ce(!1),x(!1)},FormId:C.b,dialog:!0,AddData:function(e){fe((function(e){return Object(n.a)(Object(n.a)({},e),{},{registerNotOpen:!1,viewList:!1})})),Ae(),We(),Se(Object(n.a)(Object(n.a)({},ye),{},{rows:[]}))},props:e,EditData:function(e){var t;ce(!0),me(e),Se(Object(n.a)(Object(n.a)({},ye),{},{rows:null===Re||void 0===Re||null===(t=Re.lookupData2)||void 0===t?void 0:t.Message.MODetail})),fe((function(e){return Object(n.a)(Object(n.a)({},e),{},{registerNotOpen:!1,viewList:!1})})),Ae(),We()},SetRowDataID:function(e,t){"Delete"===t&&("1"==e.TransStatus?(fe({open:!0,severity:"error",msg:"This entry cannot b deleted",registerNotOpen:!0}),R("")):R(e.TransNo))},dosaveFunction:ne,setLoadingOnSave:_,ID:D,ViewData:function(e){ce(!0),fe((function(e){return Object(n.a)(Object(n.a)({},e),{},{CodeMsg:"",registerNotOpen:!1,viewList:!0})}));var t="FormName=".concat("MOEntry","&TransNo=",e.TransNo);De(Object(O.j)(t)),me(Object(n.a)(Object(n.a)({},je),{},{RoutingName:null===Ue||void 0===Ue?void 0:Ue.RoutingName})),x(!0)},FormID:y,FormCode:"TransNo",isPostButton:!0,isEditButton:!0})}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(d.a,{container:!0,spacing:3,children:Object(h.jsxs)(d.a,{item:!0,xs:12,children:[Object(h.jsxs)(v.a,{children:[Object(h.jsx)(f.a,{children:Object(h.jsx)(l.a,{children:Object(h.jsx)(d.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:Object(h.jsx)(d.a,{item:!0,children:Object(h.jsx)(p.a,{goBack:function(){return fe((function(e){return Object(n.a)(Object(n.a)({},e),{},{registerNotOpen:!0,msg:""})})),me({TransDate:new Date,TransNo:"",TransType:"MO",LocationCode:"",Location:"",ItemCode:"",Item:"",UOMCode:"",UOM:"",RoutingCode:"",RoutingName:"",TransStatus:"",UnitQuantity:"",Quantity:"",BaseQuantity:"",MOStatus:"",BOMID:""}),Se((function(e){return Object(n.a)(Object(n.a)({},e),{},{rows:[]})})),ce(!1),void x(!1)},clearAll_OnClick:function(){me(Object(n.a)(Object(n.a)({},je),{},{TransDate:new Date,TransNo:"",TransType:"MO",TransStatus:"",UnitQuantity:"",Quantity:"",BaseQuantity:"",MOStatus:""}))},clearAll:w,copyBomDisabled:w,saveAndClose:pe.viewList,saveAndClose_OnClick:function(){saveAndClose()},FormID:1,submitButton:pe.viewList,SaveButton:pe.viewList,Button2:!pe.newList,submit:!pe.viewList,SaveButton_OnClick:function(){return function(){if(Qe()){var e,t,o="Release"===je.MOStatus?Object(a.a)(null===Re||void 0===Re||null===(e=Re.lookupData2)||void 0===e||null===(t=e.Message)||void 0===t?void 0:t.MODetail):[],i={FormName:y,Header:je,Detail:o};De(Object(O.a)(i)),me({TransDate:new Date,TransNo:"",TransType:"MO",LocationCode:"",Location:"",ItemCode:"",Item:"",UOMCode:"",UOM:"",RoutingCode:"",RoutingName:"",TransStatus:"",UnitQuantity:"",Quantity:"",BaseQuantity:"",MOStatus:""}),fe((function(e){return Object(n.a)(Object(n.a)({},e),{},{registerNotOpen:!0,open:!1,severity:null,msg:""})})),Se((function(e){return Object(n.a)(Object(n.a)({},e),{},{rows:[]})}))}}()},submitButton_OnClick:function(){return postAndSave()},Button2_OnClick:function(){return printVoucher()},isView:w})})})})}),Object(h.jsx)(s.a,{}),Object(h.jsx)(u.a,{children:Object(h.jsxs)(d.a,{container:!0,spacing:2,alignItems:"center",children:[Object(h.jsx)(d.a,{item:!0,xs:4,children:Object(h.jsx)(m.g,{label:"MO Number",name:"TransNo",value:je.TransNo,disabled:!0})}),Object(h.jsx)(d.a,{item:!0,xs:4,children:Object(h.jsx)(m.e,{id:"MODate",label:"MO Date*",name:"TransaDate",value:je.TransDate,Change:function(e){return me(Object(n.a)(Object(n.a)({},je),{},{TransDate:e}))},disabled:w})}),Object(h.jsx)(d.a,{item:!0,xs:4,children:Object(h.jsx)(m.c,{disabled:w,label:"Location*",name:"Location",reference:"Location",onClick:function(){return E(!0)},lookupOpen:Q,columns:we.columns,rows:null===we||void 0===we?void 0:we.rows,onBlurDiv:function(){return E(!1)},onFocus:function(){return q(!1)},onBlur:function(e){setTimeout((function(){ee(!1),Object(g.a)({setProperty:fe,property:pe,Header:je,setHeader:me,selectLookupVal:z,lookupSelectRow:ue},S,we.rows,["LocationCode","Location"],["Code","Description"],"Location Code"),E(!1)}),200)},changeLookupVal:He,propertyName:"LocationCode",listForSearch:null===we||void 0===we?void 0:we.rows,setSearchRowProp:function(e){Y(e)},setFilterProp:function(e){return ee(e)},setLookupEnable:function(){return fe((function(e){return Object(n.a)(Object(n.a)({},e),{},{bomCodeLookUp:!0})}))},value:je.Location,lookupValuesList:["LocationCode","Location"],setLookUpData:function(e,t){return Fe(e,t,"Location")}})}),Object(h.jsx)(d.a,{item:!0,xs:4,children:Object(h.jsx)(m.c,{disabled:w,label:"BoM Code*",reference:"BoM Code",onClick:function(){return W(!0)},lookupOpen:A,columns:null===Te||void 0===Te?void 0:Te.columns,rows:null===Te||void 0===Te?void 0:Te.rows,onBlurDiv:function(){return W(!1)},onFocus:function(){return q(!1)},onBlur:function(e){setTimeout((function(){ee(!1),Object(g.a)({setProperty:fe,property:pe,Header:je,setHeader:me,selectLookupVal:z,lookupSelectRow:ue},S,null===Te||void 0===Te?void 0:Te.rows,["LocationCode","Location"],["Code","Description"],"Location Code"),W(!1)}),200)},changeLookupVal:He,propertyName:"ItemCode",listForSearch:null===Te||void 0===Te?void 0:Te.rows,setSearchRowProp:function(e){Y(e)},setFilterProp:function(e){return ee(e)},setLookupEnable:function(){return fe((function(e){return Object(n.a)(Object(n.a)({},e),{},{bomCodeLookUp:!0})}))},value:je.ItemCode,lookupValuesList:["ItemCode","Item","UoMCode","RoutingCode"],setLookUpData:function(e,t){return Fe(e,t,"BoMCode")}})}),Object(h.jsx)(d.a,{item:!0,xs:4,children:Object(h.jsx)(m.g,{label:"Item Name",name:"Item",value:je.Item,Change:function(e){return me(Object(n.a)(Object(n.a)({},je),{},{Item:e.target.value}))},disabled:w})}),Object(h.jsx)(d.a,{item:!0,xs:4,children:Object(h.jsx)(m.f,{label:"MO Quantity",name:"Quantity",value:je.Quantity,symbol:!1,Change:function(e){return me(Object(n.a)(Object(n.a)({},je),{},{Quantity:e.target.value,BaseQuantity:e.target.value*je.UnitQuantity}))},disabled:w})}),Object(h.jsx)(d.a,{item:!0,xs:4,children:Object(h.jsx)(m.g,{label:"UoM",name:"UOM",value:je.UOM,Change:function(e){return me(Object(n.a)(Object(n.a)({},je),{},{UOM:e.target.value}))},disabled:w})}),Object(h.jsx)(d.a,{item:!0,xs:4,children:Object(h.jsx)(m.g,{label:"Routing",name:"Routing",value:je.RoutingName?je.RoutingName:je.RoutingCode,Change:function(e){return me(Object(n.a)(Object(n.a)({},je),{},{RoutingName:e.target.value}))},disabled:w})}),Object(h.jsx)(d.a,{item:!0,xs:4,children:!0===pe.viewList?Object(h.jsx)(m.g,{label:"Status",name:"Status",value:je.MOStatus,disabled:pe.viewList}):Object(h.jsx)(m.b,{list:["Release","Not Release"],label:"Status",name:"MOStatus",id:"Status",value:je.MOStatus,Change:function(e){Ve(e.target.value)},disabled:w})})]})})]}),Object(h.jsx)("br",{}),Object(h.jsxs)(d.a,{container:!0,spacing:2,alignItems:"center",children:[Object(h.jsx)(d.a,{item:!0,xs:12}),Object(h.jsx)(d.a,{item:!0,xs:12,children:Object(h.jsx)(v.a,{children:Object(h.jsx)(j.a,{sx:{boxShadow:2,border:2,borderColor:"primary.light"},rows:ye.rows,columns:ye.columns,hideFooter:!0,autoHeight:!0,disableColumnMenu:!0,getRowId:function(e){return e.CItemCode}})})})]})]})})})]})}},748:function(e,t,o){"use strict";var n=o(0),a=o.n(n),i=o(52),c=o(722),r=o(1458),d=o(66);t.a=function(e){var t=e.children,o=e.window,n=Object(i.a)(),l=Object(c.a)(n.breakpoints.down("lg")),s=Object(d.e)((function(e){return e.menu})).drawerOpen,u=l?80:83,b=l?38:41,O=l?38:s?281:42,j=Object(r.a)({disableHysteresis:!0,threshold:180,target:o||void 0}),m="dark"===n.palette.mode?n.palette.dark.dark:n.palette.grey[200];return a.a.cloneElement(t,{style:{backgroundColor:n.palette.background.default,zIndex:1099,borderTop:j?"1px solid":"none",borderBottom:j?"1px solid":"none",borderColor:j?m:"",position:j?"fixed":"relative",top:j?u:"auto",right:j?b:"auto",left:j?O:"auto"}})}},749:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o(4);function a(e,t,o,a,i,c,r,d){if(!1===e.lookupSelectRow){if(void 0!==t&&(t=t.toLowerCase(),!e.selectLookupVal)){var l=o.filter((function(e,o){return e[i[0]].toString().toLowerCase().indexOf(t)>-1||e[i[1]].toString().toLowerCase().indexOf(t)>-1}));if(0===l.length&&t){e.setProperty((function(e){return Object(n.a)(Object(n.a)({},e),{},{open:!0,severity:"error",msg:"Invalid ".concat(c)})}));for(var s=0;s<a.length;s++)e.Header[a[s]]="",e.setHeader(Object(n.a)({},e.Header));console.log({Header:e.Header})}else if(l.length&&t)if(r)switch(c){case"Customers":d(null,l[0],"Customers");break;case"Item":d(null,l[0],"Item");break;case"Routing":d(null,l[0],"Routing");break;default:d("donor",l[0],a,i)}else{for(var u=0;u<a.length;u++)e.Header[a[u]]=l[0][i[u]],e.setHeader(Object(n.a)({},e.Header));"Bank"===c&&d(l[0])}}if(""===t)for(var b=0;b<a.length;b++)e.Header[a[b]]="",e.setHeader(Object(n.a)({},e.Header))}}}}]);
//# sourceMappingURL=15.ff4a7c3d.chunk.js.map