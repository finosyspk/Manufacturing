(this["webpackJsonpberry-material-react"]=this["webpackJsonpberry-material-react"]||[]).push([[10],{1460:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return N}));var n,a=o(24),i=o(4),c=o(14),r=o(0),u=o(765),l=o(747),s=o(700),d=o(690),O=o(406),b=o(407),j=o(682),m=o(179),p=o(742),f=o.n(p),g=o(801),C=o(785),v=o(154),S=o(911),k=o.n(S),I=o(143),M=o(786),h=o(771),U=o(208),w=o(1),y=[{code:"Active",value:"Active"},{code:"Pending",value:"Pending"},{code:"Obselete",value:"Obselete"}],x=[{code:"Build if necessary",value:"Build if necessary"},{code:"Build",value:"Build"},{code:"Stock",value:"Stock"}],D="BOM",L=[],B=!1;function N(e){var t=Object(r.useState)({viewList:!1,open:!1,severity:"",msg:"",editList:!1,newList:!1,bomCodeLookUp:!1,registerNotOpen:!1,bomCodeLookUpCopy:!1}),o=Object(c.a)(t,2),p=o[0],S=o[1],N=Object(r.useState)({ItemCode:"",ItemName:"",BillStatus:"",EffectiveDate:new Date,ObseleteDate:new Date,StockMethod:"",UOMCode:"",UOM:"",RoutingCode:"",RoutingName:"",UnitQty:""}),R=Object(c.a)(N,2),F=R[0],H=R[1],P=Object(r.useState)({BOMID:"",DialogItemCode:"",ItemName:"",RoutingCode:"",RoutingName:"",UOM:"",UOMCode:""}),Q=Object(c.a)(P,2),E=Q[0],V=Q[1],A=Object(r.useState)(!1),T=Object(c.a)(A,2),W=T[0],_=T[1],K=Object(r.useState)(!0),q=Object(c.a)(K,2),z=(q[0],q[1],Object(r.useState)(!1)),J=Object(c.a)(z,2),G=J[0],X=J[1],Y=Object(r.useState)(!1),Z=Object(c.a)(Y,2),$=(Z[0],Z[1],Object(r.useState)(!1)),ee=Object(c.a)($,2),te=ee[0],oe=ee[1],ne=Object(r.useState)(!1),ae=Object(c.a)(ne,2),ie=ae[0],ce=ae[1],re=Object(r.useState)(!1),ue=Object(c.a)(re,2),le=ue[0],se=ue[1],de=Object(r.useState)(!1),Oe=Object(c.a)(de,2),be=Oe[0],je=Oe[1],me=Object(r.useState)(!1),pe=Object(c.a)(me,2),fe=pe[0],ge=pe[1],Ce=Object(r.useState)(!1),ve=Object(c.a)(Ce,2),Se=ve[0],ke=ve[1],Ie=Object(r.useState)(!1),Me=Object(c.a)(Ie,2),he=Me[0],Ue=Me[1],we=Object(r.useState)(!1),ye=Object(c.a)(we,2),xe=ye[0],De=ye[1],Le=Object(r.useState)(!0),Be=Object(c.a)(Le,2),Ne=Be[0],Re=Be[1],Fe=Object(r.useState)(!1),He=Object(c.a)(Fe,2),Pe=He[0],Qe=(He[1],Object(r.useState)("")),Ee=Object(c.a)(Qe,2),Ve=(Ee[0],Ee[1],Object(r.useState)("")),Ae=Object(c.a)(Ve,2),Te=(Ae[0],Ae[1],Object(r.useState)(!1)),We=Object(c.a)(Te,2),_e=We[0],Ke=We[1],qe=Object(r.useState)({rows:[],columns:[]}),ze=Object(c.a)(qe,2),Je=(ze[0],ze[1],Object(r.useState)({rows:[],columns:[]})),Ge=Object(c.a)(Je,2),Xe=(Ge[0],Ge[1],Object(r.useState)({rows:[],columns:[]})),Ye=Object(c.a)(Xe,2),Ze=Ye[0],$e=Ye[1],et=Object(r.useState)({rows:[],columns:[]}),tt=Object(c.a)(et,2),ot=tt[0],nt=tt[1],at=Object(r.useState)({rows:[],columns:[]}),it=Object(c.a)(at,2),ct=it[0],rt=it[1],ut=Object(r.useState)({}),lt=Object(c.a)(ut,2),st=lt[0],dt=lt[1],Ot=Object(r.useState)({rows:[],columns:[]}),bt=Object(c.a)(Ot,2),jt=bt[0],mt=bt[1],pt=Object(r.useState)({columns:[],rows:[]}),ft=Object(c.a)(pt,2),gt=ft[0],Ct=ft[1],vt=Object(r.useState)(!1),St=Object(c.a)(vt,2),kt=St[0],It=St[1],Mt=Object(r.useState)(!1),ht=Object(c.a)(Mt,2),Ut=(ht[0],ht[1],Object(r.useState)([])),wt=Object(c.a)(Ut,2),yt=wt[0],xt=wt[1],Dt=Object(r.useState)(null),Lt=Object(c.a)(Dt,2),Bt=Lt[0],Nt=(Lt[1],Object(r.useState)(0)),Rt=Object(c.a)(Nt,2),Ft=Rt[0],Ht=(Rt[1],Object(r.useState)(!1)),Pt=Object(c.a)(Ht,2),Qt=(Pt[0],Pt[1]),Et=Object(r.useState)(0),Vt=Object(c.a)(Et,2),At=Vt[0],Tt=Vt[1],Wt=Object(r.useState)({}),_t=Object(c.a)(Wt,2),Kt=_t[0],qt=_t[1],zt=Object(r.useState)({}),Jt=Object(c.a)(zt,2),Gt=(Jt[0],Jt[1],Object(m.d)((function(e){return e.AllActionsRes}))),Xt=Object(m.d)((function(e){return e.lookupRes})),Yt=Object(r.useState)(!0),Zt=Object(c.a)(Yt,2),$t=Zt[0],eo=Zt[1],to=Object(m.c)(),oo=Object(r.useState)({columns:[{title:"ItemCode",field:"CItemCode",cellStyle:{width:"15%"},render:function(e,t){return Object(w.jsx)(u.c,{columns:[],value:e.CItemCode,onClick:function(){se(!0),qt(e)},onBlurDiv:function(){return null},lookupOpen:le,rows:[]})}},{title:"Item",field:"CItemName",cellStyle:{width:"20%"},render:function(e,t){return Object(w.jsx)("p",{children:e.CItemName})}},{title:"UOM",field:"UOMCode",cellStyle:{width:"15%"},render:function(e){return Object(w.jsx)(u.c,{columns:[],value:e.UOMCode,onClick:function(){X(!0),qt(e)},onBlurDiv:function(){return null},lookupOpen:!1,rows:[]})}},{title:"Quantity",field:"Quantity",cellStyle:{width:"15%"},render:function(e){return Object(w.jsx)(u.f,{placeholder:"0.00",symbolIcon:"",thousandSeparator:!0,disabled:!1,value:1===e.Quantity?"":e.Quantity,Change:function(t){return jo(Number(t.target.value.replace(/,/gi,"").split(e.Symbol).join("")),e,"Quantity")}})}},{title:"Wastage",field:"Wastage",cellStyle:{width:"15%"},render:function(e){return Object(w.jsx)(u.f,{placeholder:"0.00",symbolIcon:"",thousandSeparator:!0,disabled:!1,value:e.Wastage,Change:function(t){return jo(Number(t.target.value.replace(/,/gi,"").split(e.Symbol).join("")),e,"Wastage")}})}},{title:"Stage",field:"StageName",cellStyle:{width:"25%"},render:function(e){return Object(w.jsx)(u.c,{columns:[],value:e.StageName,onClick:function(){je(!0),qt(e)},onBlurDiv:function(){return null},lookupOpen:be,rows:[]})}}],rows:[]}),no=Object(c.a)(oo,2),ao=no[0],io=no[1];Object(r.useEffect)((function(){Xt.error&&(co("error",Xt.error.message),to(Object(l.n)())),Xt.lookupData&&(!0===Xt.lookupData.Success?(Ct(Xt.lookupData.Message.Routing),$e(Xt.lookupData.Message.BOM)):co("error","Failed  to get BOM LookUps !"),to(Object(l.o)())),Xt.lookupData2&&(!0===Xt.lookupData2.Success?mt(Xt.lookupData2.Message.RoutingStages):co("error","Failed  to get Stages !"),to(Object(l.p)())),Xt.lookupData3&&(!0===Xt.lookupData3.Success?(L=Xt.lookupData3.Message.BOMDetail,ro(Xt.lookupData3.Message.BOMDetail)):co("error","Failed  to get BOM Detail !"),to(Object(l.q)())),Xt.lookupDataInventory&&(!0===Xt.lookupDataInventory.Success?nt(Xt.lookupDataInventory.Message.Item):co("error","Failed  to get Items !"),to(Object(l.r)())),Xt.lookupDataInventory1&&(!0===Xt.lookupDataInventory1.Success?rt(Xt.lookupDataInventory1.Message.UOM):co("error","Failed  to get UOMs !"),to(Object(l.s)())),Xt.lookupDataInventory2&&(!0===Xt.lookupDataInventory2.Success?dt(Xt.lookupDataInventory2.Message.ItemUOM):co("error","Failed  to get UOMs For Table !"),to(Object(l.t)()))}),[Xt]),Object(r.useEffect)((function(){if(Gt.error)to(Object(l.m)());else if(Gt.createOrUpdateData){var e,t;if(!0===Gt.createOrUpdateData.Success)co("success",null===Gt||void 0===Gt||null===(e=Gt.createOrUpdateData)||void 0===e?void 0:e.Message,!1);else co("error",null===Gt||void 0===Gt||null===(t=Gt.createOrUpdateData)||void 0===t?void 0:t.Message,!0);to(Object(l.m)())}else if(null!==Gt&&void 0!==Gt&&Gt.singleList){if(!0===(null===Gt||void 0===Gt?void 0:Gt.singleList.Success))if(H(Gt.singleList.Message.Header),H((function(e){return Object(i.a)(Object(i.a)({},e),{},{RoutingHead:""})})),p.viewList){var o=Gt.singleList.Message.Detail;o.map((function(e){e.disableKeys=!0})),L=Object(a.a)(o),ro(o)}else L=Object(a.a)(Gt.singleList.Message.Detail),ro(Gt.singleList.Message.Detail);else co("error",Gt.singleList.Message);to(Object(l.m)())}}),[Gt]);var co=function(e,t,o){S((function(n){return Object(i.a)(Object(i.a)({},n),{},{open:!0,registerNotOpen:void 0===o?p.registerNotOpen:o,severity:e,msg:t})}))},ro=function(e){io((function(t){return Object(i.a)(Object(i.a)({},t),{},{rows:e})}))},uo=function(){to(Object(l.i)("FormName=".concat(D)))},lo=function(){to(Object(l.d)("FormName=".concat("Items")))},so=function(e){to(Object(l.e)("FormName=".concat("ItemUOM","&ItemCode=",e)))},Oo=function(e){to(Object(l.g)("FormName=".concat("RoutingStages","&RoutingCode=",e)))},bo=function(){if(""===F.ItemCode||void 0===F.ItemCode||null===F.ItemCode?(co("error","Item Code is Empty !"),0):""===F.ItemName||void 0===F.ItemName||null===F.ItemName?(co("error","Item Name is Empty !"),0):""===F.BillStatus||void 0===F.BillStatus||null===F.BillStatus?(co("error","Bill Status is Empty !"),0):""===F.StockMethod||void 0===F.StockMethod||null===F.StockMethod?(co("error","Stock Method is Empty!"),0):""===F.RoutingCode||void 0===F.RoutingCode||null===F.RoutingCode?(co("error","Routing Code is Empty!"),0):""!==F.UOMCode&&void 0!==F.UOMCode&&null!==F.UOMCode||void co("error","UOM Code is Empty!")){var e={FormName:D,Header:F,Detail:ao.rows};to(Object(l.a)(e)),console.log({payload:e})}},jo=function(e,t,o){var n=L,a=n.indexOf(t);n[a][o]=e;var c=n[a].UnitQuantity*n[a].Quantity;n[a].BaseQuantity=c,io(Object(i.a)(Object(i.a)({},ao),{},{rows:n})),L=n},mo=function(e,t,o){if("Item"===o&&(console.log({rowData:t}),H((function(e){return Object(i.a)(Object(i.a)({},e),{},{ItemCode:t.ItemCode,ItemName:t.Item,UOMCode:t.UOM_BaseCode,UOM:t.UOM_Base,UnitQty:void 0===t.UntQty?1:t.UntQty})})),ke(!1),so(t.ItemCode),Re(!1)),"UOM"===o&&(console.log({rowData:t}),H((function(e){return Object(i.a)(Object(i.a)({},e),{},{UOMCode:t.UOMCode})})),oe(!1)),"Routing"===o&&(Oo(t.RoutingCode),H((function(e){return Object(i.a)(Object(i.a)({},e),{},{RoutingCode:t.RoutingCode,RoutingName:t.RoutingName})})),ce(!1)),"ItemLookUp"===o){var n=Object(a.a)(L),c=n.indexOf(Kt);n[c].CItemCode=t.ItemCode,n[c].CItemName=t.Item,n[c].UOMCode=t.UOM_BaseCode,n[c].UOM=t.UOM_Base,n[c].UnitQuantity=void 0===t.UnitQuantity?1:t.UnitQuantity,to(Object(l.f)("FormName=".concat("ItemUOM","&ItemCode=",t.ItemCode))),se(!1),io(Object(i.a)(Object(i.a)({},ao),{},{rows:n}))}if("StageLookUp"===o){var r=Object(a.a)(L),u=r.indexOf(Kt);r[u].StageCode=t.StageCode,r[u].StageName=t.StageName,r[u].LaborPerUnit=t.LaborPerUnit,r[u].OutputPerUnit=t.OutputPerUnit,r[u].PowerPerUnit=t.PowerPerUnit,r[u].MachineName=t.MachineName,r[u].MachineCode=t.MachineCode,r[u].StandardHours=t.StandardHours,r[u].StageSeq=t.StageSeq,je(!1),io(Object(i.a)(Object(i.a)({},ao),{},{rows:r}))}if("UOMLookUp"===o){var s=Object(a.a)(L),d=s.indexOf(Kt);s[d].UOMCode=t.UOMCode,s[d].UOM=t.UOMCode,s[d].UnitQuantity=t.UnitQuantity,X(!1),io(Object(i.a)(Object(i.a)({},ao),{},{rows:s}))}"BOMLookUpDialog"===o&&(po(t),fo(t),De(!1))},po=function(e){V((function(t){return Object(i.a)(Object(i.a)({},t),{},{BOMID:e.BOMID,DialogItemCode:e.ItemCode,ItemName:e.ItemName,RoutingCode:e.RoutingCode,UOM:e.UOM,UOMCode:e.UOMCode})})),Oo(e.RoutingCode)},fo=function(e){H((function(t){return Object(i.a)(Object(i.a)({},t),{},{RoutingCode:e.RoutingCode,RoutingName:e.RoutingName,BillStatus:"Active"})}))},go=function(e){var t="FormName=".concat(D,"&FormCode=","BOMID","&FormNameIDValue=").concat(e.BOMID);to(Object(l.j)(t))},Co=function(e,t){n=t,B=!1,F[e]=t,H(Object(i.a)({},F))},vo=function(){S(Object(i.a)(Object(i.a)({},p),{},{open:!1}))};return Object(w.jsx)(w.Fragment,{children:!0===p.registerNotOpen?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(s.a,{container:!0,spacing:3,children:[Object(w.jsx)(s.a,{item:!0,xs:12,children:Object(w.jsx)(u.d,{property:p,close:vo,onClick:vo})}),Object(w.jsx)(s.a,{item:!0,xs:12,children:Object(w.jsxs)(v.a,{children:[Object(w.jsx)(C.a,{children:Object(w.jsx)(d.a,{children:Object(w.jsx)(s.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:Object(w.jsx)(s.a,{item:!0,children:Object(w.jsx)(g.a,{goBack:function(){return S((function(e){return Object(i.a)(Object(i.a)({},e),{},{registerNotOpen:!1})})),void Ke(!1)},clearAll_OnClick:function(){return clearAll()},clearAll:_e,copyBomDisabled:_e,saveAndClose:_e,saveAndClose_OnClick:function(){saveAndClose()},FormID:1,submitButton:_e,SaveButton:_e,Button2:_e,submit:_e,showCopyBomIcon:!1,SaveButton_OnClick:function(){return bo()},submitButton_OnClick:function(){return postAndSave()},Button2_OnClick:function(){return printVoucher()},copyBom:function(){return ge(!0)},isView:_e,isBOM:!0})})})})}),Object(w.jsx)(O.a,{}),Object(w.jsx)(b.a,{children:Object(w.jsxs)(s.a,{container:!0,spacing:2,alignItems:"center",children:[Object(w.jsx)(s.a,{item:!0,xs:4,children:Object(w.jsx)(u.c,{disabled:p.viewList||p.editList,label:"BOM Code*",reference:"BOMCode",onFocus:function(){return eo(!1)},onBlurDiv:function(){return ke(!1)},onBlur:function(e){setTimeout((function(){It(!1),Object(M.a)({setProperty:S,property:p,Header:F,setHeader:H,selectLookupVal:$t,lookupSelectRow:B},n,ot.rows,["ItemCode","Item"],["ItemCode","Item"],"Item",!0,mo),ke(!1)}),200)},onClick:function(){return ke(!0)},lookupOpen:Se,columns:null===ot||void 0===ot?void 0:ot.columns,rows:kt?yt:null===ot||void 0===ot?void 0:ot.rows,changeLookupVal:Co,propertyName:"ItemCode",listForSearch:null===ot||void 0===ot?void 0:ot.rows,setSearchRowProp:function(e){xt(e)},setFilterProp:function(e){return It(e)},setLookupEnable:function(){return ke(!0)},value:F.ItemCode,lookupValuesList:["ItemCode","Item"],setLookUpData:function(e,t){return mo(0,t,"Item")}})}),Object(w.jsx)(s.a,{item:!0,xs:4,children:Object(w.jsx)(u.b,{value:F.BillStatus,Change:function(e){!function(e){if("Obselete"===e.target.value?(H(Object(i.a)(Object(i.a)({},F),{},{BillStatus:e.target.value})),_(!0)):H(Object(i.a)(Object(i.a)({},F),{},{BillStatus:e.target.value})),""!=F.ItemCode&&!p.editList){var t="FormName=".concat(D,"&ItemCode=").concat(F.ItemCode,"&BillStatus=").concat(e.target.value);to(Object(l.j)(t))}}(e)},label:"BOM Status*",disabled:p.viewList||Ne||he,list:y})}),Object(w.jsx)(s.a,{item:!0,xs:4,children:Object(w.jsx)(u.e,{value:F.effectiveDate,id:"EffectiveDate",Change:function(e){H(Object(i.a)(Object(i.a)({},F),{},{effectiveDate:e}))},Blur:function(){return null},disabled:p.viewList,label:"Effective Date*"})}),Object(w.jsx)(s.a,{item:!0,xs:4,children:Object(w.jsx)(u.e,{value:F.obseleteDate,id:"ObseleteDate",Change:function(e){H(Object(i.a)(Object(i.a)({},F),{},{obseleteDate:e}))},Blur:function(){return null},disabled:p.viewList||W,label:"Obselete Date*"})}),Object(w.jsx)(s.a,{item:!0,xs:4,children:Object(w.jsx)(u.g,{value:F.ItemName,id:"ItemName",disabled:!0,label:"ItemName*"})}),Object(w.jsx)(s.a,{item:!0,xs:4,children:Object(w.jsx)(u.b,{value:F.StockMethod,Change:function(e){return H(Object(i.a)(Object(i.a)({},F),{},{StockMethod:e.target.value}))},label:"Stock Method*",disabled:p.viewList,list:x})}),Object(w.jsx)(s.a,{item:!0,xs:4,children:Object(w.jsx)(u.c,{disabled:!0,label:"UOM Code*",reference:"UOM Code",onClick:function(){return oe(!0)},lookupOpen:te,columns:ct.columns,onBlurDiv:function(){return oe(!1)},onFocus:function(){return eo(!1)},onBlur:function(e){setTimeout((function(){It(!1),Object(M.a)({setProperty:S,property:p,Header:F,setHeader:H,selectLookupVal:$t,lookupSelectRow:B},n,ct.rows,["UOMCode","UOM"],["UOMCode","UOM"],""),oe(!1)}),200)},changeLookupVal:Co,propertyName:"UOMCode",listForSearch:null===ct||void 0===ct?void 0:ct.rows,setSearchRowProp:function(e){xt(e)},rows:kt?yt:ct.rows,setFilterProp:function(e){return It(e)},setLookupEnable:function(){return oe(!0)},value:F.UOMCode,lookupValuesList:["UOMCode","UOM"],setLookUpData:function(e,t){return mo(0,t,"UOM")}})}),Object(w.jsx)(s.a,{item:!0,xs:4,children:Object(w.jsx)(u.c,{disabled:p.viewList||p.editList,label:"Routing Code*",reference:"Routing Code",onClick:function(){return ce(!0)},lookupOpen:ie,columns:null===gt||void 0===gt?void 0:gt.columns,onBlurDiv:function(){return ce(!1)},onFocus:function(){return eo(!1)},onBlur:function(e){setTimeout((function(){It(!1),Object(M.a)({setProperty:S,property:p,Header:F,setHeader:H,selectLookupVal:$t,lookupSelectRow:B},n,gt.rows,["RoutingCode","RoutingName"],["RoutingCode","RoutingName"],"Routing",!0,mo),ce(!1)}),200)},changeLookupVal:Co,propertyName:"RoutingCode",listForSearch:null===gt||void 0===gt?void 0:gt.rows,setSearchRowProp:function(e){xt(e)},rows:kt?yt:gt.rows,setFilterProp:function(e){return It(e)},setLookupEnable:function(){return ce(!0)},value:F.RoutingCode,lookupValuesList:["RoutingCode","RoutingName"],setLookUpData:function(e,t){return mo(0,t,"Routing")}})}),Object(w.jsx)(s.a,{item:!0,xs:2}),Object(w.jsx)(s.a,{item:!0,xs:2})]})})]})})]}),Object(w.jsx)("br",{}),Object(w.jsx)(f.a,{style:{padding:"10px"},title:Object(w.jsx)("div",{children:Object(w.jsx)(U.a,{children:Object(w.jsx)(j.a,{variant:"text",onClick:function(){return function(){if(""!=F.RoutingCode){var e=Object(a.a)(ao.rows);e.push(Object(i.a)({},{CItemCode:"",CItemName:"",UOMCode:"",CStatus:0,UOM:"",MachineName:"",MachineCode:"",LaborPerUnit:"",OutputPerUnit:"",PowerPerUnit:"",UnitQuantity:1,Quantity:1,BaseQuantity:1,Wastage:"",RoutingCode:"",StageCode:"",StageSeq:"",StandardHours:"",disableKeys:!1})),L=e,io((function(t){return Object(i.a)(Object(i.a)({},t),{},{rows:e})}))}else co("error","Please Select Routing First !")}()},children:"+ Add Item"})})}),columns:[{title:"ItemCode",field:"CItemCode",cellStyle:{width:"15%"},render:function(e,t){return Object(w.jsx)(u.c,{columns:[],value:e.CItemCode,onClick:function(){se(!0),qt(e)},onBlurDiv:function(){return null},lookupOpen:!1,disabled:e.disableKeys,rows:[]})}},{title:"Item",field:"CItemName",cellStyle:{width:"20%",alignContent:"center"},render:function(e,t){return Object(w.jsx)("p",{children:e.CItemName})}},{title:"UOM",field:"UOMCode",cellStyle:{width:"15%"},render:function(e){return Object(w.jsx)(u.c,{columns:[],disabled:!0,value:e.UOMCode,onClick:function(){X(!0),qt(e)},onBlurDiv:function(){return null},lookupOpen:!1,rows:[]})}},{title:"Quantity",field:"Quantity",cellStyle:{width:"15%"},render:function(e){return Object(w.jsx)(u.f,{placeholder:"0.00",symbolIcon:"",thousandSeparator:!0,disabled:e.disableKeys,value:1===e.Quantity?"":e.Quantity,Change:function(t){return jo(Number(t.target.value.replace(/,/gi,"").split(e.Symbol).join("")),e,"Quantity")}})}},{title:"Wastage",field:"Wastage",cellStyle:{width:"15%"},render:function(e){return Object(w.jsx)(u.f,{placeholder:"0.00",symbolIcon:"",thousandSeparator:!0,disabled:e.disableKeys,value:e.Wastage,Change:function(t){return jo(Number(t.target.value.replace(/,/gi,"").split(e.Symbol).join("")),e,"Wastage")}})}},{title:"Stage",field:"StageName",cellStyle:{width:"25%"},render:function(e){return Object(w.jsx)(u.c,{columns:[],value:e.StageName,onClick:function(){je(!0),qt(e)},onBlurDiv:function(){return null},lookupOpen:!1,rows:[],disabled:e.disableKeys})}}],data:ao.rows,options:{showTitle:!0,toolbar:!0,paging:!1,actionsColumnIndex:-1,pageSize:5,pageSizeOptions:[5,10,20,30],search:!1,loadingType:"linear",actionsCellStyle:{justifyContent:"center",alignItems:"center",width:20},headerStyle:{fontWeight:"bold",paddingRight:"0px",paddingTop:"5px",paddingBottom:"5px",textAlign:"center"}},isLoading:Pe,actions:[function(e){return{icon:function(){return Object(w.jsx)(k.a,{sx:{color:I.a[500]},style:{height:"1em",width:"1em"}})},tooltip:"Delete",disabled:p.viewList,onClick:function(e){!function(e){var t=Object(a.a)(ao.rows),o=t.indexOf(e);t.splice(o,1),io(Object(i.a)(Object(i.a)({},ao),{},{rows:t}))}(e)}}}]}),Object(w.jsx)(u.j,{LookUpOpen:le,large:!1,LookUpHeading:"Item",LookupList:ot,setLookUpData:function(e,t){return mo(0,t,"ItemLookUp")},LookUpClose:function(){return se(!1)},ok:function(){return se(!1)}}),Object(w.jsx)(u.j,{LookUpOpen:G,large:!1,LookUpHeading:"UOM",LookupList:st,setLookUpData:function(e,t){return mo(0,t,"UOMLookUp")},LookUpClose:function(){return je(!1)},ok:function(){return se(!1)}}),Object(w.jsx)(u.j,{LookUpOpen:be,large:!1,LookUpHeading:"Stage",LookupList:jt,setLookUpData:function(e,t){return mo(0,t,"StageLookUp")},LookUpClose:function(){return je(!1)},ok:function(){return se(!1)}}),Object(w.jsx)(u.l,{Title:"BOM Information",Body:Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(s.a,{container:!0,spacing:3,children:Object(w.jsx)(s.a,{item:!0,xs:12,children:Object(w.jsx)(v.a,{children:Object(w.jsxs)(s.a,{container:!0,spacing:2,alignItems:"center",children:[Object(w.jsx)(s.a,{item:!0,xs:12,children:Object(w.jsx)(u.c,{disabled:!1,label:"BoM Code*",reference:"BoM Code",onClick:function(){return De(!0)},lookupOpen:xe,columns:Ze.columns,rows:null===Ze||void 0===Ze?void 0:Ze.rows,onBlurDiv:function(){return De(!1)},onFocus:function(){return eo(!1)},onBlur:function(e){setTimeout((function(){It(!1),Object(M.a)({setProperty:S,property:p,Header:F,setHeader:H,selectLookupVal:$t,lookupSelectRow:B},n,null===Ze||void 0===Ze?void 0:Ze.rows,["LocationCode","Location"],["Code","Description"],"Location Code"),De(!1)}),200)},changeLookupVal:Co,propertyName:"DialogItemCode",listForSearch:null===Ze||void 0===Ze?void 0:Ze.rows,setSearchRowProp:function(e){xt(e)},setFilterProp:function(e){return It(e)},setLookupEnable:function(){return S((function(e){return Object(i.a)(Object(i.a)({},e),{},{bomCodeLookUp:!0})}))},value:E.ItemCode,lookupValuesList:["ItemCode","Item","UoMCode","RoutingCode"],setLookUpData:function(e,t){return mo(0,t,"BOMLookUpDialog")}})}),Object(w.jsx)(s.a,{item:!0,xs:12,children:Object(w.jsx)(u.g,{value:E.ItemName,id:"itemName",disabled:!0,label:"ItemName*"})}),Object(w.jsx)(s.a,{item:!0,xs:12,children:Object(w.jsx)(u.g,{value:E.UOMCode,id:"uomCode",disabled:!0,label:"UoM*"})}),Object(w.jsx)(s.a,{item:!0,xs:12,children:Object(w.jsx)(u.g,{value:E.RoutingCode,id:"routingCode",disabled:!0,label:"Routing Code*"})})]})})})})}),hideDialog:function(){ge(!1)},IsOpen:fe,ButtonTitle1:"OK",Close:function(){ge(!1)},ButtonTitle2:"CANCEL",Save:function(){to(Object(l.h)("FormName=".concat("BOMDetail","&BOMID=",E.BOMID))),ge(!1),Ue(!0)}})]}):Object(w.jsx)(u.k,{Details:"Bill Of Material List",FormName:D,FormId:h.a,props:e,dialog:!0,AddData:function(){S((function(e){return Object(i.a)(Object(i.a)({},e),{},{viewList:!1,editList:!1,newList:!0,registerNotOpen:!0})})),H((function(e){return Object(i.a)(Object(i.a)({},e),{},{ItemCode:"",ItemName:"",BillStatus:"",EffectiveDate:new Date,ObseleteDate:new Date,StockMethod:"",UOMCode:"",UOM:"",RoutingCode:"",RoutingName:"",UnitQty:""})})),V((function(e){return Object(i.a)(Object(i.a)({},e),{},{BOMID:"",DialogItemCode:"",ItemName:"",RoutingCode:"",RoutingName:"",UOM:"",UOMCode:""})})),io((function(e){return Object(i.a)(Object(i.a)({},e),{},{rows:[]})})),uo(),lo()},EditData:function(e){uo(),lo(),so(e.ItemCode),Oo(e.RoutingCode),Ue(!1),go(e),S((function(e){return Object(i.a)(Object(i.a)({},e),{},{viewList:!1,newList:!1,editList:!0,registerNotOpen:!0})})),Re(!1)},payload:Bt,isEditButton:!0,saveFunction:Ft,SetRowDataID:function(e){console.log({data:e}),Tt(e.BOMID)},setLoadingOnSave:Qt,ID:At,FormCode:"BOMID",ViewData:function(e){go(e),S((function(e){return Object(i.a)(Object(i.a)({},e),{},{viewList:!0,newList:!1,editList:!1,registerNotOpen:!0})})),Ke(!0)},FormID:D,type:"JV",postingIcons:!1})})}},785:function(e,t,o){"use strict";var n=o(0),a=o.n(n),i=o(51),c=o(721),r=o(1456),u=o(66);t.a=function(e){var t=e.children,o=e.window,n=Object(i.a)(),l=Object(c.a)(n.breakpoints.down("lg")),s=Object(u.e)((function(e){return e.menu})).drawerOpen,d=l?80:83,O=l?38:41,b=l?38:s?281:42,j=Object(r.a)({disableHysteresis:!0,threshold:180,target:o||void 0}),m="dark"===n.palette.mode?n.palette.dark.dark:n.palette.grey[200];return a.a.cloneElement(t,{style:{backgroundColor:n.palette.background.default,zIndex:1099,borderTop:j?"1px solid":"none",borderBottom:j?"1px solid":"none",borderColor:j?m:"",position:j?"fixed":"relative",top:j?d:"auto",right:j?O:"auto",left:j?b:"auto"}})}},786:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o(4);function a(e,t,o,a,i,c,r,u){if(!1===e.lookupSelectRow){if(void 0!==t&&(t=t.toLowerCase(),!e.selectLookupVal)){var l=o.filter((function(e,o){return e[i[0]].toString().toLowerCase().indexOf(t)>-1||e[i[1]].toString().toLowerCase().indexOf(t)>-1}));if(0===l.length&&t){e.setProperty((function(e){return Object(n.a)(Object(n.a)({},e),{},{open:!0,severity:"error",msg:"Invalid ".concat(c)})}));for(var s=0;s<a.length;s++)e.Header[a[s]]="",e.setHeader(Object(n.a)({},e.Header));console.log({Header:e.Header})}else if(l.length&&t)if(r)switch(c){case"Customers":u(null,l[0],"Customers");break;case"Item":u(null,l[0],"Item");break;case"Routing":u(null,l[0],"Routing");break;default:u("donor",l[0],a,i)}else{for(var d=0;d<a.length;d++)e.Header[a[d]]=l[0][i[d]],e.setHeader(Object(n.a)({},e.Header));"Bank"===c&&u(l[0])}}if(""===t)for(var O=0;O<a.length;O++)e.Header[a[O]]="",e.setHeader(Object(n.a)({},e.Header))}}}}]);
//# sourceMappingURL=10.fc2c45f9.chunk.js.map