(this["webpackJsonpberry-material-react"]=this["webpackJsonpberry-material-react"]||[]).push([[12],{1465:function(e,t,n){"use strict";n.r(t);var a=n(24),o=n(4),i=n(14),r=n(0),c=n.n(r),s=n(699),l=n(689),u=n(406),d=n(407),b=n(681),j=n(736),O=n.n(j),p=(n(760),n(179)),m=n(742),v=n(749),f=n(747),g=n(154),h=n(759),w=n(746),D=n(1),x="Requisition";t.default=function(){var e,t,n,j=Object(r.useState)(!1),y=Object(i.a)(j,2),L=y[0],C=y[1],S=Object(r.useState)(!1),T=Object(i.a)(S,2),k=(T[0],T[1],Object(r.useState)("")),R=Object(i.a)(k,2),I=R[0],N=R[1],M=Object(r.useState)(!1),B=Object(i.a)(M,2),H=B[0],F=B[1],A=Object(r.useState)(!1),U=Object(i.a)(A,2),Q=(U[0],U[1],Object(r.useState)(!1)),q=Object(i.a)(Q,2),E=(q[0],q[1]),V=Object(r.useState)(!0),P=Object(i.a)(V,2),W=P[0],_=P[1],z=Object(r.useState)([]),J=Object(i.a)(z,2),G=(J[0],J[1]),K=Object(r.useState)(!1),X=Object(i.a)(K,2),Y=(X[0],X[1]),Z=Object(r.useState)(0),$=Object(i.a)(Z,2),ee=($[0],$[1]),te=Object(r.useState)(!1),ne=Object(i.a)(te,2),ae=(ne[0],ne[1]),oe=c.a.useState(new Date),ie=Object(i.a)(oe,2),re=(ie[0],ie[1],Object(r.useState)(!1)),ce=Object(i.a)(re,2),se=(ce[0],ce[1],!1),le=Object(r.useState)({TransNo:"",TransType:"IR",TransDate:new Date,RequireDate:new Date,LocationCode:"",Location:"",Status:"",Remarks:"",TransTotalTotal:0}),ue=Object(i.a)(le,2),de=ue[0],be=ue[1],je=Object(r.useState)({registerNotOpen:!0,viewList:!1,newList:!1,editList:!1}),Oe=Object(i.a)(je,2),pe=Oe[0],me=Oe[1],ve=Object(r.useState)({columns:[{title:"Item Code",field:"ItemCode",cellStyle:{width:"15%"}},{title:"Item",field:"Item",cellStyle:{width:"35%"}},{title:"UOM",field:"UOM",cellStyle:{width:"25%"},render:function(e){return Object(D.jsx)(Dropdown,{optionLabel:"UOMCode",disabled:disabledItemTable||e.ViewData,value:e.UOM,style:{border:"0px solid"},options:e.IN_ItemUOMs,onChange:function(t){return updateTableData(t,e,"UOM")},placeholder:"Select a UOM"})}},{title:"Quantity",field:"Qty",cellStyle:{width:"20%"},render:function(e){return Object(D.jsx)(NumberFormat,{InputLabelProps:{shrink:!0},placeholder:"0.00",style:{border:"0px solid",display:"block"},customInput:TextFieldRightAlignedForNumber,disabled:""===e.UOM||e.ViewData,thousandSeparator:!0,decimalScale:2,fixedDecimalScale:2,value:e.Qty,onChange:function(t){return updateTableData(Number(t.target.value.split(",").join("")),e,"Qty")},fullWidth:!0})}}],rows:[]}),fe=Object(i.a)(ve,2),ge=fe[0],he=fe[1],we=Object(r.useState)({columns:[],rows:[]}),De=Object(i.a)(we,2),xe=De[0],ye=De[1],Le=Object(p.c)(),Ce=Object(p.d)((function(e){return e.lookupRes})),Se=Object(p.d)((function(e){return e.AllActionsRes})),Te=null===Se||void 0===Se||null===(e=Se.singleList)||void 0===e||null===(t=e.Message)||void 0===t?void 0:t.Header;Object(r.useEffect)((function(){if(Se.error)Le(Object(m.m)());else if(null!==Se&&void 0!==Se&&Se.singleList){var e,t;if(!0===(null===Se||void 0===Se?void 0:Se.singleList.Success))be(null===Se||void 0===Se||null===(e=Se.singleList)||void 0===e?void 0:e.Message.Header),he(Object(o.a)(Object(o.a)({},ge),{},{rows:null===Se||void 0===Se||null===(t=Se.singleList)||void 0===t?void 0:t.Message.Detail})),Le(Object(m.m)());else setOnBlueDisable(!1)}}),[Se]);var ke=function(){if(""===de.ItemCode||void 0===de.ItemCode||null===de.ItemCode?(me({open:!0,severity:"error",msg:"Empty BoM Code Not Allowed"}),0):""===de.Quantity||void 0===de.Quantity||null===de.Quantity?(me({open:!0,severity:"error",msg:"Empty Qunatity Not Allowed"}),0):""!==de.Location&&void 0!==de.Location&&null!==de.ShiftHeaLocationd||(me({open:!0,severity:"error",msg:"Empty Location Not Allowed"}),0)){var e,t,n="Release"===de.IRStatus?Object(a.a)(null===Ce||void 0===Ce||null===(e=Ce.lookupData2)||void 0===e||null===(t=e.Message)||void 0===t?void 0:t.IRDetail):[],i={FormName:x,Header:de,Detail:n};Le(Object(m.a)(i)),be({TransDate:new Date,TransNo:"",TransType:"IR",LocationCode:"",Location:"",ItemCode:"",Item:"",UOMCode:"",UOM:"",RoutingCode:"",RoutingName:"",TransStatus:"",UnitQuantity:"",Quantity:"",BaseQuantity:"",IRStatus:""}),me((function(e){return Object(o.a)(Object(o.a)({},e),{},{registerNotOpen:!0,open:!1,severity:null,msg:""})})),he((function(e){return Object(o.a)(Object(o.a)({},e),{},{rows:[]})}))}},Re=function(){me(Object(o.a)(Object(o.a)({},pe),{},{open:!1}))},Ie=function(){Le(Object(m.d)("FormName=".concat("Locations")))};Object(r.useEffect)((function(){null!==Ce&&void 0!==Ce&&Ce.lookupDataInventory&&(!0===(null===Ce||void 0===Ce?void 0:Ce.lookupDataInventory.Success)?ye(Ce.lookupDataInventory.Message.Location):me({open:!0,severity:"error",msg:"Some Thing Went Wrong"}))}),[null===Ce||void 0===Ce?void 0:Ce.lookupDataInventory]),Object(r.useEffect)((function(){var e,t;null!==Ce&&void 0!==Ce&&Ce.lookupData2&&(!0===(null===Ce||void 0===Ce||null===(e=Ce.lookupData2)||void 0===e?void 0:e.Success)?he(Object(o.a)(Object(o.a)({},ge),{},{rows:null===Ce||void 0===Ce||null===(t=Ce.lookupData2)||void 0===t?void 0:t.Message.IRDetail})):me({open:!0,severity:"error",msg:"Some Thing Went Wrong"}))}),[null===Ce||void 0===Ce?void 0:Ce.lookupData2]);return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(s.a,{item:!0,xs:12,children:Object(D.jsx)(v.d,{property:pe,close:Re,onClick:Re})}),pe.registerNotOpen?Object(D.jsx)(s.a,{container:!0,children:Object(D.jsx)(v.k,{Details:"IR Entry List",FormName:x,DialogClose:function(){me((function(e){return Object(o.a)(Object(o.a)({},e),{},{registerNotOpen:!0,msg:""})})),be({TransNo:"",TransType:"IR",TransDate:new Date,RequireDate:new Date,LocationCode:"",Location:"",Status:"",Remarks:"",TransTotalTotal:0}),he((function(e){return Object(o.a)(Object(o.a)({},e),{},{rows:[]})})),ae(!1),C(!1)},dialog:!0,AddData:function(e){me((function(e){return Object(o.a)(Object(o.a)({},e),{},{registerNotOpen:!1,viewList:!1})})),Ie(),he(Object(o.a)(Object(o.a)({},ge),{},{rows:[]}))},EditData:function(e){var t;ae(!0),be(e),he(Object(o.a)(Object(o.a)({},ge),{},{rows:null===Ce||void 0===Ce||null===(t=Ce.lookupData2)||void 0===t?void 0:t.Message.IRDetail})),me((function(e){return Object(o.a)(Object(o.a)({},e),{},{registerNotOpen:!1,viewList:!1})})),Ie()},SetRowDataID:function(e,t){"Delete"===t&&("1"==e.TransStatus?(me({open:!0,severity:"error",msg:"This entry cannot b deleted",registerNotOpen:!0}),N("")):N(e.TransNo))},dosaveFunction:ee,setLoadingOnSave:E,ID:I,ViewData:function(e){ae(!0),me((function(e){return Object(o.a)(Object(o.a)({},e),{},{CodeMsg:"",registerNotOpen:!1,viewList:!0})}));var t="FormName=".concat("Requisition","&TransNo=",e.TransNo);Le(Object(m.j)(t)),be(Object(o.a)(Object(o.a)({},de),{},{RoutingName:null===Te||void 0===Te?void 0:Te.RoutingName})),C(!0)},FormID:x,FormCode:"TransNo",isPostButton:!0,isEditButton:!0})}):Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(s.a,{container:!0,spacing:3,children:Object(D.jsxs)(s.a,{item:!0,xs:12,children:[Object(D.jsxs)(g.a,{children:[Object(D.jsx)(w.a,{children:Object(D.jsx)(l.a,{children:Object(D.jsx)(s.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:Object(D.jsx)(s.a,{item:!0,children:Object(D.jsx)(h.a,{goBack:function(){return me((function(e){return Object(o.a)(Object(o.a)({},e),{},{registerNotOpen:!0,msg:""})})),be({TransNo:"",TransType:"IR",TransDate:new Date,RequireDate:new Date,LocationCode:"",Location:"",Status:"",Remarks:"",TransTotalTotal:0}),he((function(e){return Object(o.a)(Object(o.a)({},e),{},{rows:[]})})),ae(!1),void C(!1)},clearAll_OnClick:function(){be(Object(o.a)(Object(o.a)({},de),{},{TransNo:"",TransType:"IR",TransDate:new Date,RequireDate:new Date,LocationCode:"",Location:"",Status:"",Remarks:"",TransTotalTotal:0}))},clearAll:L,copyBomDisabled:L,saveAndClose:pe.viewList,saveAndClose_OnClick:function(){saveAndClose()},FormID:1,submitButton:pe.viewList,SaveButton:pe.viewList,Button2:!pe.newList,submit:!pe.viewList,SaveButton_OnClick:function(){return ke()},submitButton_OnClick:function(){return postAndSave()},Button2_OnClick:function(){return printVoucher()},isView:L})})})})}),Object(D.jsx)(u.a,{}),Object(D.jsx)(d.a,{children:Object(D.jsxs)(s.a,{container:!0,spacing:2,alignItems:"center",children:[Object(D.jsx)(s.a,{item:!0,xs:4,children:Object(D.jsx)(v.g,{label:"Trans No",name:"TransNo",value:de.TransNo,disabled:!0})}),Object(D.jsx)(s.a,{item:!0,xs:4,children:Object(D.jsx)(v.e,{id:"IRDate",label:"Trans Date *",name:"TransaDate",value:de.TransDate,Change:function(e){return be(Object(o.a)(Object(o.a)({},de),{},{TransDate:e}))},disabled:L})}),Object(D.jsx)(s.a,{item:!0,xs:4,children:Object(D.jsx)(v.e,{id:"ReqDate",label:"Required Date *",name:"RequiredDate",value:de.RequireDate,Change:function(e){return be(Object(o.a)(Object(o.a)({},de),{},{RequireDate:e}))},disabled:L})}),Object(D.jsx)(s.a,{item:!0,xs:4,children:Object(D.jsx)(v.c,{disabled:L,label:"Location *",name:"Location",reference:"Location",onClick:function(){return F(!0)},lookupOpen:H,columns:xe.columns,rows:null===xe||void 0===xe?void 0:xe.rows,onBlurDiv:function(){return F(!1)},onFocus:function(){return _(!1)},onBlur:function(e){setTimeout((function(){Y(!1),Object(f.a)({setProperty:me,property:pe,Header:de,setHeader:be,selectLookupVal:W,lookupSelectRow:se},n,xe.rows,["LocationCode","Location"],["Code","Description"],"Location Code"),F(!1)}),200)},changeLookupVal:function(e,t){n=t,se=!1},propertyName:"LocationCode",listForSearch:null===xe||void 0===xe?void 0:xe.rows,setSearchRowProp:function(e){G(e)},setFilterProp:function(e){return Y(e)},setLookupEnable:function(){return me((function(e){return Object(o.a)(Object(o.a)({},e),{},{bomCodeLookUp:!0})}))},value:de.Location,lookupValuesList:["LocationCode","Location"],setLookUpData:function(e,t){return function(e,t,n){e.target.value,"Location"==n&&(be(Object(o.a)(Object(o.a)({},de),{},{Location:null===t||void 0===t?void 0:t.Location,LocationCode:null===t||void 0===t?void 0:t.LocationCode})),F(!1))}(e,t,"Location")}})}),Object(D.jsx)(s.a,{item:!0,xs:8,children:Object(D.jsx)(v.g,{label:"Remarks",name:"Remarks",value:de.Remarks,disabled:L,Change:function(e){return be(Object(o.a)(Object(o.a)({},de),{},{Remarks:e}))}})})]})})]}),Object(D.jsx)("br",{}),Object(D.jsx)(s.a,{container:!0,spacing:2,alignItems:"center",children:Object(D.jsxs)(s.a,{item:!0,xs:12,children:[Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{style:{padding:"15px"},title:Object(D.jsx)("div",{children:Object(D.jsx)(b.a,{variant:"text",onClick:function(){return function(){var e=Object(a.a)(ge.rows);e.push(Object(o.a)({},{ItemCode:"",ItemName:"",UOMCode:"",CStatus:0,UOM:"",UnitQuantity:1,Quantity:1,BaseQuantity:1,StageCode:"",StageName:"",MachineName:"",MachineCode:"",StageSeq:""})),newRowsArr=e,he(Object(o.a)(Object(o.a)({},ge),{},{rows:e}))}()},children:"+ Add Item"})}),columns:ge.columns,data:ge.rows,options:{showTitle:!0!==pe.viewList,paging:!1,actionsColumnIndex:-1,pageSize:5,pageSizeOptions:[5,10,20,30],search:!1,loadingType:"linear",headerStyle:{fontWeight:"bold",paddingLeft:"10px",paddingRight:"0px",paddingTop:"0px",paddingBottom:"0px",textAlign:"left"},actionsCellStyle:{justifyContent:"center",alignItems:"center",width:20}},actions:[function(e){return{icon:function(){return Object(D.jsx)(DeleteOutline,{sx:{color:red[500]},style:{height:"1em",width:"1em"}})},tooltip:"Delete",onClick:function(t){onClickDelete(t,e)}}}],localization:{body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Filter"}}}})]})})]})})})]})}},746:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(51),r=n(720),c=n(1456),s=n(66);t.a=function(e){var t=e.children,n=e.window,a=Object(i.a)(),l=Object(r.a)(a.breakpoints.down("lg")),u=Object(s.e)((function(e){return e.menu})).drawerOpen,d=l?80:83,b=l?38:41,j=l?38:u?281:42,O=Object(c.a)({disableHysteresis:!0,threshold:180,target:n||void 0}),p="dark"===a.palette.mode?a.palette.dark.dark:a.palette.grey[200];return o.a.cloneElement(t,{style:{backgroundColor:a.palette.background.default,zIndex:1099,borderTop:O?"1px solid":"none",borderBottom:O?"1px solid":"none",borderColor:O?p:"",position:O?"fixed":"relative",top:O?d:"auto",right:O?b:"auto",left:O?j:"auto"}})}},747:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(4);function o(e,t,n,o,i,r,c,s){if(!1===e.lookupSelectRow){if(void 0!==t&&(t=t.toLowerCase(),!e.selectLookupVal)){var l=n.filter((function(e,n){return e[i[0]].toString().toLowerCase().indexOf(t)>-1||e[i[1]].toString().toLowerCase().indexOf(t)>-1}));if(0===l.length&&t){e.setProperty((function(e){return Object(a.a)(Object(a.a)({},e),{},{open:!0,severity:"error",msg:"Invalid ".concat(r)})}));for(var u=0;u<o.length;u++)e.Header[o[u]]="",e.setHeader(Object(a.a)({},e.Header));console.log({Header:e.Header})}else if(l.length&&t)if(c)switch(r){case"Customers":s(null,l[0],"Customers");break;case"Item":s(null,l[0],"Item");break;case"Routing":s(null,l[0],"Routing");break;default:s("donor",l[0],o,i)}else{for(var d=0;d<o.length;d++)e.Header[o[d]]=l[0][i[d]],e.setHeader(Object(a.a)({},e.Header));"Bank"===r&&s(l[0])}}if(""===t)for(var b=0;b<o.length;b++)e.Header[o[b]]="",e.setHeader(Object(a.a)({},e.Header))}}}}]);
//# sourceMappingURL=12.288f680c.chunk.js.map