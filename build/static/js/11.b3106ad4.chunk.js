(this["webpackJsonpberry-material-react"]=this["webpackJsonpberry-material-react"]||[]).push([[11],{1469:function(e,t,o){"use strict";o.r(t);var n=o(24),a=o(4),i=o(14),r=o(0),c=o.n(r),s=o(701),l=o(691),u=o(406),d=o(407),b=o(683),j=o(738),O=o.n(j),p=(o(762),o(134)),m=o(744),v=o(751),f=o(749),g=o(155),L=o(761),w=o(748),h=o(1),D="Receivings";t.default=function(){var e,t,o,j=Object(r.useState)(!1),y=Object(i.a)(j,2),C=y[0],k=y[1],x=Object(r.useState)(!1),S=Object(i.a)(x,2),T=(S[0],S[1],Object(r.useState)("")),R=Object(i.a)(T,2),N=R[0],I=R[1],F=Object(r.useState)(!1),M=Object(i.a)(F,2),B=M[0],H=M[1],U=Object(r.useState)(!1),A=Object(i.a)(U,2),Q=(A[0],A[1],Object(r.useState)(!1)),E=Object(i.a)(Q,2),V=(E[0],E[1]),X=Object(r.useState)(!0),P=Object(i.a)(X,2),W=P[0],_=P[1],q=Object(r.useState)([]),z=Object(i.a)(q,2),J=(z[0],z[1]),G=Object(r.useState)(!1),K=Object(i.a)(G,2),Y=(K[0],K[1]),Z=Object(r.useState)(0),$=Object(i.a)(Z,2),ee=($[0],$[1]),te=Object(r.useState)(!1),oe=Object(i.a)(te,2),ne=(oe[0],oe[1]),ae=c.a.useState(new Date),ie=Object(i.a)(ae,2),re=(ie[0],ie[1],Object(r.useState)(!1)),ce=Object(i.a)(re,2),se=(ce[0],ce[1],!1),le=Object(r.useState)({TransNo:"",TransType:"RXFR",TransDate:new Date,RequireDate:new Date,LocationCode:"",Location:"",Status:"",Remarks:"",TransTotalTotal:0}),ue=Object(i.a)(le,2),de=ue[0],be=ue[1],je=Object(r.useState)({registerNotOpen:!0,viewList:!1,newList:!1,editList:!1}),Oe=Object(i.a)(je,2),pe=Oe[0],me=Oe[1],ve=Object(r.useState)({columns:[{title:"Item Code",field:"ItemCode",cellStyle:{width:"15%"}},{title:"Item",field:"Item",cellStyle:{width:"35%"}},{title:"UOM",field:"UOM",cellStyle:{width:"25%"},render:function(e){return Object(h.jsx)(Dropdown,{optionLabel:"UOMCode",disabled:disabledItemTable||e.ViewData,value:e.UOM,style:{border:"0px solid"},options:e.IN_ItemUOMs,onChange:function(t){return updateTableData(t,e,"UOM")},placeholder:"Select a UOM"})}},{title:"Quantity",field:"Qty",cellStyle:{width:"20%"},render:function(e){return Object(h.jsx)(NumberFormat,{InputLabelProps:{shrink:!0},placeholder:"0.00",style:{border:"0px solid",display:"block"},customInput:TextFieldRightAlignedForNumber,disabled:""===e.UOM||e.ViewData,thousandSeparator:!0,decimalScale:2,fixedDecimalScale:2,value:e.Qty,onChange:function(t){return updateTableData(Number(t.target.value.split(",").join("")),e,"Qty")},fullWidth:!0})}}],rows:[]}),fe=Object(i.a)(ve,2),ge=fe[0],Le=fe[1],we=Object(r.useState)({columns:[],rows:[]}),he=Object(i.a)(we,2),De=he[0],ye=he[1],Ce=Object(p.c)(),ke=Object(p.d)((function(e){return e.lookupRes})),xe=Object(p.d)((function(e){return e.AllActionsRes})),Se=null===xe||void 0===xe||null===(e=xe.singleList)||void 0===e||null===(t=e.Message)||void 0===t?void 0:t.Header;Object(r.useEffect)((function(){if(xe.error)Ce(Object(m.m)());else if(null!==xe&&void 0!==xe&&xe.singleList){var e,t;if(!0===(null===xe||void 0===xe?void 0:xe.singleList.Success))be(null===xe||void 0===xe||null===(e=xe.singleList)||void 0===e?void 0:e.Message.Header),Le(Object(a.a)(Object(a.a)({},ge),{},{rows:null===xe||void 0===xe||null===(t=xe.singleList)||void 0===t?void 0:t.Message.Detail})),Ce(Object(m.m)());else setOnBlueDisable(!1)}}),[xe]);var Te=function(){if(""===de.ItemCode||void 0===de.ItemCode||null===de.ItemCode?(me({open:!0,severity:"error",msg:"Empty BoM Code Not Allowed"}),0):""===de.Quantity||void 0===de.Quantity||null===de.Quantity?(me({open:!0,severity:"error",msg:"Empty Qunatity Not Allowed"}),0):""!==de.Location&&void 0!==de.Location&&null!==de.ShiftHeaLocationd||(me({open:!0,severity:"error",msg:"Empty Location Not Allowed"}),0)){var e,t,o="Release"===de.RXFRStatus?Object(n.a)(null===ke||void 0===ke||null===(e=ke.lookupData2)||void 0===e||null===(t=e.Message)||void 0===t?void 0:t.RXFRDetail):[],i={FormName:D,Header:de,Detail:o};Ce(Object(m.a)(i)),be({TransDate:new Date,TransNo:"",TransType:"RXFR",LocationCode:"",Location:"",ItemCode:"",Item:"",UOMCode:"",UOM:"",RoutingCode:"",RoutingName:"",TransStatus:"",UnitQuantity:"",Quantity:"",BaseQuantity:"",RXFRStatus:""}),me((function(e){return Object(a.a)(Object(a.a)({},e),{},{registerNotOpen:!0,open:!1,severity:null,msg:""})})),Le((function(e){return Object(a.a)(Object(a.a)({},e),{},{rows:[]})}))}},Re=function(){me(Object(a.a)(Object(a.a)({},pe),{},{open:!1}))},Ne=function(e,t){o=t,se=!1},Ie=function(e,t,o){e.target.value;"Location"==o&&(be(Object(a.a)(Object(a.a)({},de),{},{Location:null===t||void 0===t?void 0:t.Location,LocationCode:null===t||void 0===t?void 0:t.LocationCode})),H(!1))},Fe=function(){Ce(Object(m.d)("FormName=".concat("Locations")))};Object(r.useEffect)((function(){null!==ke&&void 0!==ke&&ke.lookupDataInventory&&(!0===(null===ke||void 0===ke?void 0:ke.lookupDataInventory.Success)?ye(ke.lookupDataInventory.Message.Location):me({open:!0,severity:"error",msg:"Some Thing Went Wrong"}))}),[null===ke||void 0===ke?void 0:ke.lookupDataInventory]),Object(r.useEffect)((function(){var e,t;null!==ke&&void 0!==ke&&ke.lookupData2&&(!0===(null===ke||void 0===ke||null===(e=ke.lookupData2)||void 0===e?void 0:e.Success)?Le(Object(a.a)(Object(a.a)({},ge),{},{rows:null===ke||void 0===ke||null===(t=ke.lookupData2)||void 0===t?void 0:t.Message.RXFRDetail})):me({open:!0,severity:"error",msg:"Some Thing Went Wrong"}))}),[null===ke||void 0===ke?void 0:ke.lookupData2]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(s.a,{item:!0,xs:12,children:Object(h.jsx)(v.d,{property:pe,close:Re,onClick:Re})}),pe.registerNotOpen?Object(h.jsx)(s.a,{container:!0,children:Object(h.jsx)(v.k,{Details:"Transfer Entry List",FormName:D,DialogClose:function(){me((function(e){return Object(a.a)(Object(a.a)({},e),{},{registerNotOpen:!0,msg:""})})),be({TransNo:"",TransType:"RXFR",TransDate:new Date,RequireDate:new Date,LocationCode:"",Location:"",Status:"",Remarks:"",TransTotalTotal:0}),Le((function(e){return Object(a.a)(Object(a.a)({},e),{},{rows:[]})})),ne(!1),k(!1)},dialog:!0,AddData:function(e){me((function(e){return Object(a.a)(Object(a.a)({},e),{},{registerNotOpen:!1,viewList:!1})})),Fe(),Le(Object(a.a)(Object(a.a)({},ge),{},{rows:[]}))},EditData:function(e){var t;ne(!0),be(e),Le(Object(a.a)(Object(a.a)({},ge),{},{rows:null===ke||void 0===ke||null===(t=ke.lookupData2)||void 0===t?void 0:t.Message.RXFRDetail})),me((function(e){return Object(a.a)(Object(a.a)({},e),{},{registerNotOpen:!1,viewList:!1})})),Fe()},SetRowDataID:function(e,t){"Delete"===t&&("1"==e.TransStatus?(me({open:!0,severity:"error",msg:"This entry cannot b deleted",registerNotOpen:!0}),I("")):I(e.TransNo))},dosaveFunction:ee,setLoadingOnSave:V,ID:N,ViewData:function(e){ne(!0),me((function(e){return Object(a.a)(Object(a.a)({},e),{},{CodeMsg:"",registerNotOpen:!1,viewList:!0})}));var t="FormName=".concat("Receivings","&TransNo=",e.TransNo);Ce(Object(m.j)(t)),be(Object(a.a)(Object(a.a)({},de),{},{RoutingName:null===Se||void 0===Se?void 0:Se.RoutingName})),k(!0)},FormID:D,FormCode:"TransNo",isPostButton:!0,isEditButton:!0})}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(s.a,{container:!0,spacing:3,children:Object(h.jsxs)(s.a,{item:!0,xs:12,children:[Object(h.jsxs)(g.a,{children:[Object(h.jsx)(w.a,{children:Object(h.jsx)(l.a,{children:Object(h.jsx)(s.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:Object(h.jsx)(s.a,{item:!0,children:Object(h.jsx)(L.a,{goBack:function(){return me((function(e){return Object(a.a)(Object(a.a)({},e),{},{registerNotOpen:!0,msg:""})})),be({TransNo:"",TransType:"RXFR",TransDate:new Date,RequireDate:new Date,LocationCode:"",Location:"",Status:"",Remarks:"",TransTotalTotal:0}),Le((function(e){return Object(a.a)(Object(a.a)({},e),{},{rows:[]})})),ne(!1),void k(!1)},clearAll_OnClick:function(){be(Object(a.a)(Object(a.a)({},de),{},{TransNo:"",TransType:"RXFR",TransDate:new Date,RequireDate:new Date,LocationCode:"",Location:"",Status:"",Remarks:"",TransTotalTotal:0}))},clearAll:C,copyBomDisabled:C,saveAndClose:pe.viewList,saveAndClose_OnClick:function(){saveAndClose()},FormID:1,submitButton:pe.viewList,SaveButton:pe.viewList,Button2:!pe.newList,submit:!pe.viewList,SaveButton_OnClick:function(){return Te()},submitButton_OnClick:function(){return postAndSave()},Button2_OnClick:function(){return printVoucher()},isView:C})})})})}),Object(h.jsx)(u.a,{}),Object(h.jsx)(d.a,{children:Object(h.jsxs)(s.a,{container:!0,spacing:2,alignItems:"center",children:[Object(h.jsx)(s.a,{item:!0,xs:4,children:Object(h.jsx)(v.g,{label:"Trans No",name:"TransNo",value:de.TransNo,disabled:!0})}),Object(h.jsx)(s.a,{item:!0,xs:4,children:Object(h.jsx)(v.e,{id:"RXFRDate",label:"Trans Date *",name:"TransaDate",value:de.TransDate,Change:function(e){return be(Object(a.a)(Object(a.a)({},de),{},{TransDate:e}))},disabled:C})}),Object(h.jsx)(s.a,{item:!0,xs:4,children:Object(h.jsx)(v.c,{disabled:C,label:"Source Location *",name:"Location",reference:"Location",onClick:function(){return H(!0)},lookupOpen:B,columns:De.columns,rows:null===De||void 0===De?void 0:De.rows,onBlurDiv:function(){return H(!1)},onFocus:function(){return _(!1)},onBlur:function(e){setTimeout((function(){Y(!1),Object(f.a)({setProperty:me,property:pe,Header:de,setHeader:be,selectLookupVal:W,lookupSelectRow:se},o,De.rows,["LocationCode","Location"],["Code","Description"],"Location Code"),H(!1)}),200)},changeLookupVal:Ne,propertyName:"LocationCode",listForSearch:null===De||void 0===De?void 0:De.rows,setSearchRowProp:function(e){J(e)},setFilterProp:function(e){return Y(e)},setLookupEnable:function(){return me((function(e){return Object(a.a)(Object(a.a)({},e),{},{bomCodeLookUp:!0})}))},value:de.Location,lookupValuesList:["LocationCode","Location"],setLookUpData:function(e,t){return Ie(e,t,"Location")}})}),Object(h.jsx)(s.a,{item:!0,xs:4,children:Object(h.jsx)(v.c,{disabled:C,label:"Destination Location *",name:"Location",reference:"Location",onClick:function(){return H(!0)},lookupOpen:B,columns:De.columns,rows:null===De||void 0===De?void 0:De.rows,onBlurDiv:function(){return H(!1)},onFocus:function(){return _(!1)},onBlur:function(e){setTimeout((function(){Y(!1),Object(f.a)({setProperty:me,property:pe,Header:de,setHeader:be,selectLookupVal:W,lookupSelectRow:se},o,De.rows,["LocationCode","Location"],["Code","Description"],"Location Code"),H(!1)}),200)},changeLookupVal:Ne,propertyName:"LocationCode",listForSearch:null===De||void 0===De?void 0:De.rows,setSearchRowProp:function(e){J(e)},setFilterProp:function(e){return Y(e)},setLookupEnable:function(){return me((function(e){return Object(a.a)(Object(a.a)({},e),{},{bomCodeLookUp:!0})}))},value:de.Location,lookupValuesList:["LocationCode","Location"],setLookUpData:function(e,t){return Ie(e,t,"Location")}})}),Object(h.jsx)(s.a,{item:!0,xs:8,children:Object(h.jsx)(v.g,{label:"Remarks",name:"Remarks",value:de.Remarks,disabled:C,Change:function(e){return be(Object(a.a)(Object(a.a)({},de),{},{Remarks:e}))}})})]})})]}),Object(h.jsx)("br",{}),Object(h.jsx)(s.a,{container:!0,spacing:2,alignItems:"center",children:Object(h.jsxs)(s.a,{item:!0,xs:12,children:[Object(h.jsx)("br",{}),Object(h.jsx)(O.a,{style:{padding:"15px"},title:Object(h.jsx)("div",{children:Object(h.jsx)(b.a,{variant:"text",onClick:function(){return function(){var e=Object(n.a)(ge.rows);e.push(Object(a.a)({},{ItemCode:"",ItemName:"",UOMCode:"",CStatus:0,UOM:"",UnitQuantity:1,Quantity:1,BaseQuantity:1,StageCode:"",StageName:"",MachineName:"",MachineCode:"",StageSeq:""})),newRowsArr=e,Le(Object(a.a)(Object(a.a)({},ge),{},{rows:e}))}()},children:"+ Add Item"})}),columns:ge.columns,data:ge.rows,options:{showTitle:!0!==pe.viewList,paging:!1,actionsColumnIndex:-1,pageSize:5,pageSizeOptions:[5,10,20,30],search:!1,loadingType:"linear",headerStyle:{fontWeight:"bold",paddingLeft:"10px",paddingRight:"0px",paddingTop:"0px",paddingBottom:"0px",textAlign:"left"},actionsCellStyle:{justifyContent:"center",alignItems:"center",width:20}},actions:[function(e){return{icon:function(){return Object(h.jsx)(DeleteOutline,{sx:{color:red[500]},style:{height:"1em",width:"1em"}})},tooltip:"Delete",onClick:function(t){onClickDelete(t,e)}}}],localization:{body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Filter"}}}})]})})]})})})]})}},748:function(e,t,o){"use strict";var n=o(0),a=o.n(n),i=o(52),r=o(722),c=o(1458),s=o(66);t.a=function(e){var t=e.children,o=e.window,n=Object(i.a)(),l=Object(r.a)(n.breakpoints.down("lg")),u=Object(s.e)((function(e){return e.menu})).drawerOpen,d=l?80:83,b=l?38:41,j=l?38:u?281:42,O=Object(c.a)({disableHysteresis:!0,threshold:180,target:o||void 0}),p="dark"===n.palette.mode?n.palette.dark.dark:n.palette.grey[200];return a.a.cloneElement(t,{style:{backgroundColor:n.palette.background.default,zIndex:1099,borderTop:O?"1px solid":"none",borderBottom:O?"1px solid":"none",borderColor:O?p:"",position:O?"fixed":"relative",top:O?d:"auto",right:O?b:"auto",left:O?j:"auto"}})}},749:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o(4);function a(e,t,o,a,i,r,c,s){if(!1===e.lookupSelectRow){if(void 0!==t&&(t=t.toLowerCase(),!e.selectLookupVal)){var l=o.filter((function(e,o){return e[i[0]].toString().toLowerCase().indexOf(t)>-1||e[i[1]].toString().toLowerCase().indexOf(t)>-1}));if(0===l.length&&t){e.setProperty((function(e){return Object(n.a)(Object(n.a)({},e),{},{open:!0,severity:"error",msg:"Invalid ".concat(r)})}));for(var u=0;u<a.length;u++)e.Header[a[u]]="",e.setHeader(Object(n.a)({},e.Header));console.log({Header:e.Header})}else if(l.length&&t)if(c)switch(r){case"Customers":s(null,l[0],"Customers");break;case"Item":s(null,l[0],"Item");break;case"Routing":s(null,l[0],"Routing");break;default:s("donor",l[0],a,i)}else{for(var d=0;d<a.length;d++)e.Header[a[d]]=l[0][i[d]],e.setHeader(Object(n.a)({},e.Header));"Bank"===r&&s(l[0])}}if(""===t)for(var b=0;b<a.length;b++)e.Header[a[b]]="",e.setHeader(Object(n.a)({},e.Header))}}}}]);
//# sourceMappingURL=11.b3106ad4.chunk.js.map