(this["webpackJsonpberry-material-react"]=this["webpackJsonpberry-material-react"]||[]).push([[22],{1448:function(t,e,a){"use strict";a.r(e);var i=a(4),n=a(14),c=a(702),r=a(155),s=a(0),o=a(961),d=a.n(o),l=a(773),u=a(739),f=a.n(u),j=a(745),b=a(134),h=a(752),S=a(1),O="Shift";e.default=function(){var t=Object(s.useState)(!1),e=Object(n.a)(t,2),a=(e[0],e[1],Object(s.useState)(!1)),o=Object(n.a)(a,2),u=(o[0],o[1]),m=Object(s.useState)(!1),g=Object(n.a)(m,2),p=g[0],v=g[1],x=Object(s.useState)([]),A=Object(n.a)(x,2),N=A[0],H=A[1],y=Object(s.useState)(!1),C=Object(n.a)(y,2),I=C[0],D=C[1],w=Object(s.useState)(""),E=Object(n.a)(w,2),M=E[0],T=E[1],F=Object(s.useState)(""),B=Object(n.a)(F,2),k=(B[0],B[1],Object(b.c)()),U=Object(b.d)((function(t){var e=t.AllActionsRes;return null===e||void 0===e?void 0:e.singleList})),L=Object(b.d)((function(t){return t.AllActionsRes})),R=Object(s.useState)({ShiftHead:"",ShiftName:"",IsActive:!0,StartAt:"00:00",Shifts:"",CreatedUser:"",ModifyUser:""}),z=Object(n.a)(R,2),J=z[0],V=z[1],W=Object(s.useState)({dialogNotOpen:!1}),q=Object(n.a)(W,2),G=q[0],K=q[1],P=Object(s.useState)({columns:[{title:"Shift Name",field:"ShiftDName",render:function(t){return Object(S.jsx)(h.g,{value:t.ShiftDName,name:"shiftName",disabled:I})}},{title:"Start At",field:"StartAt",render:function(t){return Object(S.jsx)(h.h,{label:"",value:t.StartAt,disabled:I})}},{title:"End At",field:"EndAt",render:function(t){return Object(S.jsx)(h.h,{label:"",value:t.EndAt,disabled:I})}}],rows:[]}),Q=Object(n.a)(P,2),X=Q[0],Y=Q[1],Z=function(){var t={FormNameID:O,FormCode:"ShiftHead",FormNameIDValue:J.ShiftHead};v(!0),k(Object(j.j)(t))},$=function(){K(Object(i.a)(Object(i.a)({},G),{},{open:!1}))};return Object(s.useEffect)((function(){Y((function(t){return Object(i.a)(Object(i.a)({},t),{},{rows:N})}))}),[N]),Object(s.useEffect)((function(){!function(){var t,e=[],a=d.a.duration(J.StartAt);if(1===J.Shifts){a.subtract(1,"s");var i=a.hours(),n=a.minutes();i<10&&(i="0".concat(i)),n<10&&(n="0".concat(n)),t="".concat(i,":").concat(n),e.push({ShiftDName:"Shift",StartAt:J.StartAt,EndAt:t}),H(e)}else if(2===J.Shifts)for(var c=0;c<J.Shifts;c++){var r=a.hours(),s=a.minutes();r<10&&(r="0".concat(r)),s<10&&(s="0".concat(s));var o="".concat(r,":").concat(s);a.add({hours:"12"}).subtract({second:"1"});var l=a.hours(),u=a.minutes();l<10&&(l="0".concat(l)),u<10&&(u="0".concat(u)),t="".concat(l,":").concat(u),e.push({ShiftDName:"Shift - "+(c+1===1?"A":"B"),StartAt:o,EndAt:t}),a=d.a.duration(t).add({minutes:"1"}),H(e)}else if(3===J.Shifts)for(var f=0;f<J.Shifts;f++){var j=a.hours(),b=a.minutes();j<10&&(j="0".concat(j)),b<10&&(b="0".concat(b));var h="".concat(j,":").concat(b);a.add({hours:"8"}).subtract({second:"1"});var S=a.hours(),O=a.minutes();S<10&&(S="0".concat(S)),O<10&&(O="0".concat(O)),t="".concat(S,":").concat(O),e.push({ShiftDName:"Shift - "+(f+1===1?"A":f+1===2?"B":"C"),StartAt:h,EndAt:t}),a=d.a.duration(t).add({minutes:"1"}),H(e)}}()}),[null===J||void 0===J?void 0:J.Shifts]),Object(s.useEffect)((function(){L.error?k(Object(j.m)()):U&&null!==U&&void 0!==U&&U.Success&&V({ShiftHead:U.Message.Header.ShiftHead,ShiftName:U.Message.Header.ShiftName,IsActive:U.Message.Header.IsActive,StartAt:U.Message.Header.StartAt,Shifts:U.Message.Header.Shifts,CreatedUser:"",ModifyUser:""})}),[null===U||void 0===U?void 0:U.Message]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(c.a,{container:!0,children:[Object(S.jsx)(c.a,{item:!0,xs:12,children:Object(S.jsx)(h.d,{property:G,close:$,onClick:$})}),Object(S.jsx)(h.k,{Details:"Shift Maintenance List",FormName:O,dialog:!0,AddData:function(){K((function(t){return Object(i.a)(Object(i.a)({},t),{},{dialogNotOpen:!0})})),V((function(t){return Object(i.a)(Object(i.a)({},t),{},{ShiftHead:"",ShiftName:"",IsActive:!0,StartAt:"00:00",Shifts:""})}))},EditData:function(t){V((function(e){return Object(i.a)(Object(i.a)({},e),{},{ShiftHead:t.ShiftHead,ShiftName:t.ShiftName,IsActive:t.IsActive,StartAt:t.StartAt,Shifts:t.Shifts})})),K((function(t){return Object(i.a)(Object(i.a)({},t),{},{dialogNotOpen:!0})})),v(!0)},SetRowDataID:function(t){T(t.ShiftHead)},setLoadingOnSave:u,ID:M,ViewData:function(t){V(t),K((function(t){return Object(i.a)(Object(i.a)({},t),{},{dialogNotOpen:!0})})),D(!0)},FormID:O,FormCode:"ShiftHead",isEditButton:!0})]}),Object(S.jsx)(l.a,{Title:"Shift Maintenance",IsOpen:G.dialogNotOpen,Save:function(){if(""===J.ShiftHead||void 0===J.ShiftHead||null===J.ShiftHead?(K({open:!0,severity:"error",msg:"Empty Code Not Allowed",dialogNotOpen:!0}),0):""===J.ShiftName||void 0===J.ShiftHead||null===J.ShiftHead?(K({open:!0,severity:"error",msg:"Empty Description Not Allowed",dialogNotOpen:!0}),0):0!==N.length&&void 0!==J.ShiftHead&&null!==J.ShiftHead||(K({open:!0,severity:"error",msg:"Empty Shifts Not Allowed",dialogNotOpen:!0}),0)){var t={FormName:O,Header:J,Detail:N};k(Object(j.a)(t)),V({ShiftHead:"",ShiftName:"",IsActive:!0,StartAt:"00:00",Shifts:"",CreatedUser:"",ModifyUser:""}),K((function(t){return Object(i.a)(Object(i.a)({},t),{},{dialogNotOpen:!1,open:!1,severity:null,msg:""})})),Y((function(t){return Object(i.a)(Object(i.a)({},t),{},{rows:[]})}))}},Close:function(){K((function(t){return Object(i.a)(Object(i.a)({},t),{},{dialogNotOpen:!1})})),V((function(t){return Object(i.a)(Object(i.a)({},t),{},{ShiftHead:"",ShiftName:"",IsActive:!0,StartAt:"00:00",Shifts:""})})),Y((function(t){return Object(i.a)(Object(i.a)({},t),{},{rows:[]})})),D(!1),v(!1)},Body:Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(c.a,{container:!0,spacing:3,children:Object(S.jsx)(c.a,{item:!0,xs:12,children:Object(S.jsxs)(r.a,{children:[Object(S.jsxs)(c.a,{container:!0,spacing:2,alignItems:"center",children:[Object(S.jsx)(c.a,{item:!0,xs:8,children:Object(S.jsx)(h.g,{label:"Shift Code",type:"text",value:J.ShiftHead,Change:function(t){return V(Object(i.a)(Object(i.a)({},J),{},{ShiftHead:t.target.value}))},Blur:Z,disabled:p||I})}),Object(S.jsx)(c.a,{item:!0,xs:1}),Object(S.jsx)(c.a,{item:!0,xs:3,children:Object(S.jsx)(h.a,{label:"Is Active",disabled:I,checked:J.IsActive,Change:function(t){return V(Object(i.a)(Object(i.a)({},J),{},{IsActive:t.target.checked}))}})}),Object(S.jsx)(c.a,{item:!0,xs:12,children:Object(S.jsx)(h.g,{disabled:I,label:"Shift Name",type:"text",value:J.ShiftName,Change:function(t){return V(Object(i.a)(Object(i.a)({},J),{},{ShiftName:t.target.value}))}})}),Object(S.jsx)(c.a,{item:!0,xs:6,style:{paddingTop:24},children:Object(S.jsx)(h.h,{label:"Day Start At",value:J.StartAt,Change:function(t){return V(Object(i.a)(Object(i.a)({},J),{},{StartAt:t.target.value}))},disabled:I})}),Object(S.jsx)(c.a,{item:!0,xs:6,style:{paddingTop:24},children:Object(S.jsx)(h.b,{label:"Total Shifts",value:J.Shifts,list:[1,2,3],id:"totalShifts",Change:function(t){V(Object(i.a)(Object(i.a)({},J),{},{Shifts:t.target.value}))},disabled:I})})]}),Object(S.jsx)(c.a,{container:!0,children:Object(S.jsx)(c.a,{item:!0,xs:12,children:Object(S.jsx)(f.a,{columns:X.columns,data:X.rows,style:{border:"none",backgroundColor:"transparent",boxShadow:"none",paddingTop:"30px !important"},options:{showTitle:!1,toolbar:!0,paging:!1,actionsColumnIndex:-1,pageSize:5,pageSizeOptions:[5,10,20,30],search:!1,loadingType:"linear",headerStyle:{fontWeight:"bold",paddingLeft:"10px",paddingRight:"0px",paddingTop:"0px",paddingBottom:"0px",textAlign:"left"},actionsCellStyle:{justifyContent:"center",alignItems:"center",width:20}}})})})]})})})}),ButtonTitle1:"Save",ButtonTitle2:"Cancel",ShowSave:I})]})}}}]);
//# sourceMappingURL=22.d9de4572.chunk.js.map