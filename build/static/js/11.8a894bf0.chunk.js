(this["webpackJsonpberry-material-react"]=this["webpackJsonpberry-material-react"]||[]).push([[11],{1461:function(e,t,o){"use strict";o.r(t);var n=o(4),a=o(24),i=o(14),c=o(0),r=o.n(c),d=o(700),l=o(690),u=o(406),s=o(407),b=(o(742),o(859),o(179)),O=o(747),j=o(1228),m=o(765),g=o(786),v=o(154),p=o(801),f=o(785),C=o(771),h=o(1),y="MO";t.default=function(){var e,t,o,S=Object(c.useState)(!1),M=Object(i.a)(S,2),L=M[0],w=M[1],x=Object(c.useState)(!1),N=Object(i.a)(x,2),I=(N[0],N[1],Object(c.useState)("")),T=Object(i.a)(I,2),k=T[0],D=T[1],R=Object(c.useState)(!1),B=Object(i.a)(R,2),U=B[0],Q=B[1],E=Object(c.useState)(!1),H=Object(i.a)(E,2),F=H[0],A=H[1],W=Object(c.useState)(!1),V=Object(i.a)(W,2),P=(V[0],V[1]),_=Object(c.useState)(!0),J=Object(i.a)(_,2),X=J[0],z=J[1],q=Object(c.useState)([]),G=Object(i.a)(q,2),K=(G[0],G[1]),Y=Object(c.useState)(!1),Z=Object(i.a)(Y,2),$=(Z[0],Z[1]),ee=Object(c.useState)(0),te=Object(i.a)(ee,2),oe=(te[0],te[1]),ne=Object(c.useState)(!1),ae=Object(i.a)(ne,2),ie=(ae[0],ae[1]),ce=r.a.useState(new Date),re=Object(i.a)(ce,2),de=(re[0],re[1],Object(c.useState)(!1)),le=Object(i.a)(de,2),ue=(le[0],le[1],!1),se=Object(c.useState)({TransDate:new Date,TransNo:"",TransType:"MO",LocationCode:"",Location:"",ItemCode:"",Item:"",UOMCode:"",UOM:"",RoutingCode:"",RoutingName:"",TransStatus:"",UnitQuantity:"",Quantity:"",BaseQuantity:"",MOStatus:"",BOMID:""}),be=Object(i.a)(se,2),Oe=be[0],je=be[1],me=Object(c.useState)({registerNotOpen:!0,viewList:!1,newList:!1,editList:!1}),ge=Object(i.a)(me,2),ve=ge[0],pe=ge[1],fe=Object(c.useState)({columns:[{field:"CItemCode",title:"Item Code",headerName:"Item Code",width:250,editable:!0},{field:"CItemName",title:"Item Name",headerName:"Item Name",width:350,editable:!1},{title:"UOM",field:"UOM",headerName:"UOM",width:150,editable:!0,align:"left"},{title:"Stage",field:"StageName",headerName:"Stage",width:150,editable:!1},{title:"Quantity",field:"Quantity",headerName:"Quantity",width:150,editable:!0,type:"number",align:"right"}],rows:[]}),Ce=Object(i.a)(fe,2),he=Ce[0],ye=Ce[1],Se=Object(c.useState)({columns:[{title:"Location Code",field:"LocationCode",cellStyle:{border:"1px solid #ccc8c8",paddingTop:1,paddingBottom:1,width:"35%"},headerStyle:{border:"1px solid #ccc8c8",fontWeight:"bolder",background:"#e3dede",paddingTop:1,width:"35%"}},{title:"Location",field:"LocationName",cellStyle:{border:"1px solid #ccc8c8",paddingTop:1,paddingBottom:1,width:"35%"},headerStyle:{border:"1px solid #ccc8c8",fontWeight:"bolder",background:"#e3dede",paddingTop:1,width:"35%"}}],rows:[{LocationCode:"001",LocationName:"Factory"},{LocationCode:"002",LocationName:"WareHouse"},{LocationCode:"003",LocationName:"Plant"}]}),Me=Object(i.a)(Se,2),Le=Me[0],we=Me[1],xe=Object(c.useState)({columns:[{title:"Item Code",field:"ItemCode",cellStyle:{border:"1px solid #ccc8c8",paddingTop:1,paddingBottom:1,width:"35%"},headerStyle:{border:"1px solid #ccc8c8",fontWeight:"bolder",background:"#e3dede",paddingTop:1,width:"35%"}},{title:"Item",field:"ItemName",cellStyle:{border:"1px solid #ccc8c8",paddingTop:1,paddingBottom:1,width:"35%"},headerStyle:{border:"1px solid #ccc8c8",fontWeight:"bolder",background:"#e3dede",paddingTop:1,width:"35%"}},{title:"UoM code",field:"UOMCode",cellStyle:{border:"1px solid #ccc8c8",paddingTop:1,paddingBottom:1,width:"35%"},headerStyle:{border:"1px solid #ccc8c8",fontWeight:"bolder",background:"#e3dede",paddingTop:1,width:"35%"}},{title:"Routing Code",field:"RoutingName",cellStyle:{border:"1px solid #ccc8c8",paddingTop:1,paddingBottom:1,width:"35%"},headerStyle:{border:"1px solid #ccc8c8",fontWeight:"bolder",background:"#e3dede",paddingTop:1,width:"35%"}}],rows:[{ItemCode:"Buttons",ItemName:"Buttons",UOMCode:"NOS",RoutingName:"Textile"},{ItemCode:"F-001",ItemName:"Fabric 12/16",UOMCode:"METER",RoutingName:"001"},{ItemCode:"MENS TROUSER",ItemName:"MENS TROUSER",UOMCode:"NOS",RoutingName:"TEXTILE"},{ItemCode:"MENS T-SHIRT",ItemName:"MENS T-SHIRT",UOMCode:"NOS",RoutingName:"TEXTILE"}]}),Ne=Object(i.a)(xe,2),Ie=Ne[0],Te=Ne[1],ke=Object(b.c)(),De=Object(b.d)((function(e){return e.lookupRes})),Re=Object(b.d)((function(e){return e.AllActionsRes})),Be=null===Re||void 0===Re||null===(e=Re.singleList)||void 0===e||null===(t=e.Message)||void 0===t?void 0:t.Header;Object(c.useEffect)((function(){if(Re.error)ke(Object(O.m)());else if(null!==Re&&void 0!==Re&&Re.singleList){var e,t;if(!0===(null===Re||void 0===Re?void 0:Re.singleList.Success))je(null===Re||void 0===Re||null===(e=Re.singleList)||void 0===e?void 0:e.Message.Header),ye(Object(n.a)(Object(n.a)({},he),{},{rows:null===Re||void 0===Re||null===(t=Re.singleList)||void 0===t?void 0:t.Message.Detail})),ke(Object(O.m)());else setOnBlueDisable(!1)}}),[Re]);var Ue=function(){return""===Oe.ItemCode||void 0===Oe.ItemCode||null===Oe.ItemCode?(pe({open:!0,severity:"error",msg:"Empty BoM Code Not Allowed"}),!1):""===Oe.Quantity||void 0===Oe.Quantity||null===Oe.Quantity?(pe({open:!0,severity:"error",msg:"Empty Qunatity Not Allowed"}),!1):""!==Oe.Location&&void 0!==Oe.Location&&null!==Oe.ShiftHeaLocationd||(pe({open:!0,severity:"error",msg:"Empty Location Not Allowed"}),!1)},Qe=function(){pe(Object(n.a)(Object(n.a)({},ve),{},{open:!1}))},Ee=function(e,t){o=t,ue=!1},He=function(e,t,o){e.target.value;"Location"==o?(je(Object(n.a)(Object(n.a)({},Oe),{},{Location:null===t||void 0===t?void 0:t.Location,LocationCode:null===t||void 0===t?void 0:t.LocationCode})),Q(!1)):"BoMCode"==o&&(je(Object(n.a)(Object(n.a)({},Oe),{},{Item:null===t||void 0===t?void 0:t.ItemName,ItemCode:null===t||void 0===t?void 0:t.ItemCode,UOM:null===t||void 0===t?void 0:t.UOM,UOMCode:null===t||void 0===t?void 0:t.UOMCode,UnitQuantity:null===t||void 0===t?void 0:t.UnitQty,RoutingName:null===t||void 0===t?void 0:t.RoutingName,RoutingCode:null===t||void 0===t?void 0:t.RoutingCode,BOMID:null===t||void 0===t?void 0:t.BOMID})),A(!1))},Fe=function(){ke(Object(O.d)("FormName=".concat("Locations")))},Ae=function(){ke(Object(O.i)("FormName=ActiveBOM"))},We=function(e){"Release"===e?Ue()&&(ke(Object(O.g)("FormName=MOEntry&BOMID=".concat(Oe.BOMID,"&Qty=").concat(Oe.BaseQuantity))),je((function(t){return Object(n.a)(Object(n.a)({},t),{},{MOStatus:e})}))):Ue()&&(je((function(t){return Object(n.a)(Object(n.a)({},t),{},{MOStatus:e})})),ye(Object(n.a)(Object(n.a)({},he),{},{rows:[]})))};Object(c.useEffect)((function(){null!==De&&void 0!==De&&De.lookupDataInventory&&(!0===(null===De||void 0===De?void 0:De.lookupDataInventory.Success)?we(De.lookupDataInventory.Message.Location):pe({open:!0,severity:"error",msg:"Some Thing Went Wrong"}))}),[null===De||void 0===De?void 0:De.lookupDataInventory]),Object(c.useEffect)((function(){var e,t;null!==De&&void 0!==De&&De.lookupData&&(!0===(null===De||void 0===De||null===(e=De.lookupData)||void 0===e?void 0:e.Success)?Te(null===De||void 0===De||null===(t=De.lookupData)||void 0===t?void 0:t.Message.BOM):pe({open:!0,severity:"error",msg:"Some Thing Went Wrong"}))}),[null===De||void 0===De?void 0:De.lookupData]),Object(c.useEffect)((function(){var e,t;null!==De&&void 0!==De&&De.lookupData2&&(!0===(null===De||void 0===De||null===(e=De.lookupData2)||void 0===e?void 0:e.Success)?ye(Object(n.a)(Object(n.a)({},he),{},{rows:null===De||void 0===De||null===(t=De.lookupData2)||void 0===t?void 0:t.Message.MODetail})):pe({open:!0,severity:"error",msg:"Some Thing Went Wrong"}))}),[null===De||void 0===De?void 0:De.lookupData2]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(d.a,{item:!0,xs:12,children:Object(h.jsx)(m.d,{property:ve,close:Qe,onClick:Qe})}),ve.registerNotOpen?Object(h.jsx)(d.a,{container:!0,children:Object(h.jsx)(m.k,{Details:"MO Entry List",FormName:y,DialogClose:function(){pe((function(e){return Object(n.a)(Object(n.a)({},e),{},{registerNotOpen:!0,msg:""})})),je({TransDate:new Date,TransNo:"",TransType:"MO",LocationCode:"",Location:"",ItemCode:"",Item:"",UOMCode:"",UOM:"",RoutingCode:"",RoutingName:"",TransStatus:"",UnitQuantity:"",Quantity:"",BaseQuantity:"",MOStatus:"",BOMID:""}),ye((function(e){return Object(n.a)(Object(n.a)({},e),{},{rows:[]})})),ie(!1),w(!1)},FormId:C.b,dialog:!0,AddData:function(e){pe((function(e){return Object(n.a)(Object(n.a)({},e),{},{registerNotOpen:!1,viewList:!1})})),Fe(),Ae(),ye(Object(n.a)(Object(n.a)({},he),{},{rows:[]}))},EditData:function(e){var t;ie(!0),je(e),ye(Object(n.a)(Object(n.a)({},he),{},{rows:null===De||void 0===De||null===(t=De.lookupData2)||void 0===t?void 0:t.Message.MODetail})),pe((function(e){return Object(n.a)(Object(n.a)({},e),{},{registerNotOpen:!1,viewList:!1})})),Fe(),Ae()},SetRowDataID:function(e,t){"Delete"===t&&("1"==e.TransStatus?(pe({open:!0,severity:"error",msg:"This entry cannot b deleted",registerNotOpen:!0}),D("")):D(e.TransNo))},dosaveFunction:oe,setLoadingOnSave:P,ID:k,ViewData:function(e){ie(!0),pe((function(e){return Object(n.a)(Object(n.a)({},e),{},{CodeMsg:"",registerNotOpen:!1,viewList:!0})}));var t="FormName=".concat("MOEntry","&TransNo=",e.TransNo);ke(Object(O.j)(t)),je(Object(n.a)(Object(n.a)({},Oe),{},{RoutingName:null===Be||void 0===Be?void 0:Be.RoutingName})),w(!0)},FormID:y,FormCode:"TransNo",isPostButton:!0,isEditButton:!0})}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(d.a,{container:!0,spacing:3,children:Object(h.jsxs)(d.a,{item:!0,xs:12,children:[Object(h.jsxs)(v.a,{children:[Object(h.jsx)(f.a,{children:Object(h.jsx)(l.a,{children:Object(h.jsx)(d.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:Object(h.jsx)(d.a,{item:!0,children:Object(h.jsx)(p.a,{goBack:function(){return pe((function(e){return Object(n.a)(Object(n.a)({},e),{},{registerNotOpen:!0,msg:""})})),je({TransDate:new Date,TransNo:"",TransType:"MO",LocationCode:"",Location:"",ItemCode:"",Item:"",UOMCode:"",UOM:"",RoutingCode:"",RoutingName:"",TransStatus:"",UnitQuantity:"",Quantity:"",BaseQuantity:"",MOStatus:"",BOMID:""}),ye((function(e){return Object(n.a)(Object(n.a)({},e),{},{rows:[]})})),ie(!1),void w(!1)},clearAll_OnClick:function(){je(Object(n.a)(Object(n.a)({},Oe),{},{TransDate:new Date,TransNo:"",TransType:"MO",TransStatus:"",UnitQuantity:"",Quantity:"",BaseQuantity:"",MOStatus:""}))},clearAll:L,copyBomDisabled:L,saveAndClose:ve.viewList,saveAndClose_OnClick:function(){saveAndClose()},FormID:1,submitButton:ve.viewList,SaveButton:ve.viewList,Button2:!ve.newList,submit:!ve.viewList,SaveButton_OnClick:function(){return function(){if(Ue()){var e,t,o="Release"===Oe.MOStatus?Object(a.a)(null===De||void 0===De||null===(e=De.lookupData2)||void 0===e||null===(t=e.Message)||void 0===t?void 0:t.MODetail):[],i={FormName:y,Header:Oe,Detail:o};ke(Object(O.a)(i)),je({TransDate:new Date,TransNo:"",TransType:"MO",LocationCode:"",Location:"",ItemCode:"",Item:"",UOMCode:"",UOM:"",RoutingCode:"",RoutingName:"",TransStatus:"",UnitQuantity:"",Quantity:"",BaseQuantity:"",MOStatus:""}),pe((function(e){return Object(n.a)(Object(n.a)({},e),{},{registerNotOpen:!0,open:!1,severity:null,msg:""})})),ye((function(e){return Object(n.a)(Object(n.a)({},e),{},{rows:[]})}))}}()},submitButton_OnClick:function(){return postAndSave()},Button2_OnClick:function(){return printVoucher()},isView:L})})})})}),Object(h.jsx)(u.a,{}),Object(h.jsx)(s.a,{children:Object(h.jsxs)(d.a,{container:!0,spacing:2,alignItems:"center",children:[Object(h.jsx)(d.a,{item:!0,xs:4,children:Object(h.jsx)(m.g,{label:"MO Number",name:"TransNo",value:Oe.TransNo,disabled:!0})}),Object(h.jsx)(d.a,{item:!0,xs:4,children:Object(h.jsx)(m.e,{id:"MODate",label:"MO Date*",name:"TransaDate",value:Oe.TransDate,Change:function(e){return je(Object(n.a)(Object(n.a)({},Oe),{},{TransDate:e}))},disabled:L})}),Object(h.jsx)(d.a,{item:!0,xs:4,children:Object(h.jsx)(m.c,{disabled:L,label:"Location*",name:"Location",reference:"Location",onClick:function(){return Q(!0)},lookupOpen:U,columns:Le.columns,rows:null===Le||void 0===Le?void 0:Le.rows,onBlurDiv:function(){return Q(!1)},onFocus:function(){return z(!1)},onBlur:function(e){setTimeout((function(){$(!1),Object(g.a)({setProperty:pe,property:ve,Header:Oe,setHeader:je,selectLookupVal:X,lookupSelectRow:ue},o,Le.rows,["LocationCode","Location"],["Code","Description"],"Location Code"),Q(!1)}),200)},changeLookupVal:Ee,propertyName:"LocationCode",listForSearch:null===Le||void 0===Le?void 0:Le.rows,setSearchRowProp:function(e){K(e)},setFilterProp:function(e){return $(e)},setLookupEnable:function(){return pe((function(e){return Object(n.a)(Object(n.a)({},e),{},{bomCodeLookUp:!0})}))},value:Oe.Location,lookupValuesList:["LocationCode","Location"],setLookUpData:function(e,t){return He(e,t,"Location")}})}),Object(h.jsx)(d.a,{item:!0,xs:4,children:Object(h.jsx)(m.c,{disabled:L,label:"BoM Code*",reference:"BoM Code",onClick:function(){return A(!0)},lookupOpen:F,columns:null===Ie||void 0===Ie?void 0:Ie.columns,rows:null===Ie||void 0===Ie?void 0:Ie.rows,onBlurDiv:function(){return A(!1)},onFocus:function(){return z(!1)},onBlur:function(e){setTimeout((function(){$(!1),Object(g.a)({setProperty:pe,property:ve,Header:Oe,setHeader:je,selectLookupVal:X,lookupSelectRow:ue},o,null===Ie||void 0===Ie?void 0:Ie.rows,["LocationCode","Location"],["Code","Description"],"Location Code"),A(!1)}),200)},changeLookupVal:Ee,propertyName:"ItemCode",listForSearch:null===Ie||void 0===Ie?void 0:Ie.rows,setSearchRowProp:function(e){K(e)},setFilterProp:function(e){return $(e)},setLookupEnable:function(){return pe((function(e){return Object(n.a)(Object(n.a)({},e),{},{bomCodeLookUp:!0})}))},value:Oe.ItemCode,lookupValuesList:["ItemCode","Item","UoMCode","RoutingCode"],setLookUpData:function(e,t){return He(e,t,"BoMCode")}})}),Object(h.jsx)(d.a,{item:!0,xs:4,children:Object(h.jsx)(m.g,{label:"Item Name",name:"Item",value:Oe.Item,Change:function(e){return je(Object(n.a)(Object(n.a)({},Oe),{},{Item:e.target.value}))},disabled:L})}),Object(h.jsx)(d.a,{item:!0,xs:4,children:Object(h.jsx)(m.f,{label:"MO Quantity",name:"Quantity",value:Oe.Quantity,symbol:!1,Change:function(e){return je(Object(n.a)(Object(n.a)({},Oe),{},{Quantity:e.target.value,BaseQuantity:e.target.value*Oe.UnitQuantity}))},disabled:L})}),Object(h.jsx)(d.a,{item:!0,xs:4,children:Object(h.jsx)(m.g,{label:"UoM",name:"UOM",value:Oe.UOM,Change:function(e){return je(Object(n.a)(Object(n.a)({},Oe),{},{UOM:e.target.value}))},disabled:L})}),Object(h.jsx)(d.a,{item:!0,xs:4,children:Object(h.jsx)(m.g,{label:"Routing",name:"Routing",value:Oe.RoutingName?Oe.RoutingName:Oe.RoutingCode,Change:function(e){return je(Object(n.a)(Object(n.a)({},Oe),{},{RoutingName:e.target.value}))},disabled:L})}),Object(h.jsx)(d.a,{item:!0,xs:4,children:!0===ve.viewList?Object(h.jsx)(m.g,{label:"Status",name:"Status",value:Oe.MOStatus,disabled:ve.viewList}):Object(h.jsx)(m.b,{list:["Release","Not Release"],label:"Status",name:"MOStatus",id:"Status",value:Oe.MOStatus,Change:function(e){We(e.target.value)},disabled:L})})]})})]}),Object(h.jsx)("br",{}),Object(h.jsxs)(d.a,{container:!0,spacing:2,alignItems:"center",children:[Object(h.jsx)(d.a,{item:!0,xs:12}),Object(h.jsx)(d.a,{item:!0,xs:12,children:Object(h.jsx)(v.a,{children:Object(h.jsx)(j.a,{sx:{boxShadow:2,border:2,borderColor:"primary.light"},rows:he.rows,columns:he.columns,hideFooter:!0,autoHeight:!0,disableColumnMenu:!0,getRowId:function(e){return e.CItemCode}})})})]})]})})})]})}},785:function(e,t,o){"use strict";var n=o(0),a=o.n(n),i=o(51),c=o(721),r=o(1456),d=o(66);t.a=function(e){var t=e.children,o=e.window,n=Object(i.a)(),l=Object(c.a)(n.breakpoints.down("lg")),u=Object(d.e)((function(e){return e.menu})).drawerOpen,s=l?80:83,b=l?38:41,O=l?38:u?281:42,j=Object(r.a)({disableHysteresis:!0,threshold:180,target:o||void 0}),m="dark"===n.palette.mode?n.palette.dark.dark:n.palette.grey[200];return a.a.cloneElement(t,{style:{backgroundColor:n.palette.background.default,zIndex:1099,borderTop:j?"1px solid":"none",borderBottom:j?"1px solid":"none",borderColor:j?m:"",position:j?"fixed":"relative",top:j?s:"auto",right:j?b:"auto",left:j?O:"auto"}})}},786:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o(4);function a(e,t,o,a,i,c,r,d){if(!1===e.lookupSelectRow){if(void 0!==t&&(t=t.toLowerCase(),!e.selectLookupVal)){var l=o.filter((function(e,o){return e[i[0]].toString().toLowerCase().indexOf(t)>-1||e[i[1]].toString().toLowerCase().indexOf(t)>-1}));if(0===l.length&&t){e.setProperty((function(e){return Object(n.a)(Object(n.a)({},e),{},{open:!0,severity:"error",msg:"Invalid ".concat(c)})}));for(var u=0;u<a.length;u++)e.Header[a[u]]="",e.setHeader(Object(n.a)({},e.Header));console.log({Header:e.Header})}else if(l.length&&t)if(r)switch(c){case"Customers":d(null,l[0],"Customers");break;case"Item":d(null,l[0],"Item");break;case"Routing":d(null,l[0],"Routing");break;default:d("donor",l[0],a,i)}else{for(var s=0;s<a.length;s++)e.Header[a[s]]=l[0][i[s]],e.setHeader(Object(n.a)({},e.Header));"Bank"===c&&d(l[0])}}if(""===t)for(var b=0;b<a.length;b++)e.Header[a[b]]="",e.setHeader(Object(n.a)({},e.Header))}}}}]);
//# sourceMappingURL=11.8a894bf0.chunk.js.map