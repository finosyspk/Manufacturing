(this["webpackJsonpberry-material-react"]=this["webpackJsonpberry-material-react"]||[]).push([[20],{1447:function(e,t,n){"use strict";n.r(t);var a=n(24),o=n(4),i=n(14),c=n(701),r=n(683),s=n(0),u=n(773),l=n(738),j=n.n(l),b=n(155),O=n(912),d=n.n(O),g=n(144),p=n(134),f=n(752),m=(n(970),n(744)),S=(n(968),n(690)),h=n(763),x=n(120),v=n(1),C="Routing",w=[];t.default=function(e){var t=Object(s.useState)(!1),n=Object(i.a)(t,2),l=(n[0],n[1],Object(s.useState)(!1)),O=Object(i.a)(l,2),D=O[0],N=O[1],R=Object(s.useState)(!0),L=Object(i.a)(R,2),k=(L[0],L[1],Object(s.useState)({})),y=Object(i.a)(k,2),M=y[0],U=y[1],I=Object(s.useState)(!1),P=Object(i.a)(I,2),A=P[0],F=P[1],H=Object(s.useState)(0),B=Object(i.a)(H,2),T=B[0],q=B[1],E=Object(s.useState)(!1),z=Object(i.a)(E,2),J=(z[0],z[1]),V=Object(s.useState)({columns:[],rows:[]}),K=Object(i.a)(V,2),W=K[0],G=K[1],Q=Object(s.useState)({columns:[],rows:[]}),X=Object(i.a)(Q,2),Y=X[0],Z=X[1],$=Object(s.useState)(0),_=Object(i.a)($,2),ee=_[0],te=_[1],ne=Object(s.useState)(!1),ae=Object(i.a)(ne,2),oe=ae[0],ie=ae[1],ce=Object(s.useState)(!1),re=Object(i.a)(ce,2),se=re[0],ue=re[1],le=Object(p.d)((function(e){return e.AllActionsRes})),je=Object(p.d)((function(e){return e.lookupRes})),be=Object(p.c)(),Oe=Object(s.useState)({RoutingCode:"",RoutingName:"",IsActive:!1}),de=Object(i.a)(Oe,2),ge=de[0],pe=de[1],fe=Object(s.useState)({open:!1,severity:null,msg:"",viewList:!1,editList:!1,newList:!1}),me=Object(i.a)(fe,2),Se=me[0],he=me[1],xe=function(){be(Object(m.i)("FormName=".concat(C)))},ve=Object(s.useState)({columns:[{title:"Sequence",field:"StageSeq",render:function(e){return Object(v.jsx)("p",{children:e.StageSeq})}},{title:"Stage",field:"StageName",type:"numeric",render:function(e){return Object(v.jsx)(f.c,{columns:[],disabled:e.isDisabled,value:e.StageName,onClick:function(){F(!0),U(e)},onBlurDiv:function(){return null},lookupOpen:D,rows:[]})}},{title:"Machine",field:"MachineName",render:function(e){return Object(v.jsx)(f.c,{columns:[],value:e.MachineName,disabled:e.isDisabled,onClick:function(){N(!0),U(e)},onBlurDiv:function(){return null},lookupOpen:D,rows:[]})},type:"numeric"},{title:"Std Time",field:"StandardHours",render:function(e){return Object(v.jsx)(f.f,{variant:"outlined",symbol:!1,textAlign:"left",InputLabelProps:{shrink:!0},placeholder:"0.00",customInput:S.a,disabled:e.isDisabled,thousandSeparator:!0,decimalScale:2,fixedDecimalScale:2,value:e.StandardHours,Change:function(t){return Ne(Number(t.target.value.replace(/,/gi,"").split(e.Symbol).join("")),e,"StandardHours")}})}}],rows:[]}),Ce=Object(i.a)(ve,2),we=Ce[0],De=Ce[1];console.log("Header",ge);Object(s.useEffect)((function(){if(le.error)be(Object(m.m)());else if(le.createOrUpdateData)!0===le.createOrUpdateData.Success&&he((function(e){return Object(o.a)(Object(o.a)({},e),{},{registerNotOpen:!1})}));else if(null!==le&&void 0!==le&&le.singleList&&!0===(null===le||void 0===le?void 0:le.singleList.Success)){if(pe(le.singleList.Message.Header),oe){var e=le.singleList.Message.Detail;e.map((function(e){e.isDisabled=!0})),console.log({arrForView:e}),De((function(t){return Object(o.a)(Object(o.a)({},t),{},{rows:e})})),w=e}else De((function(e){return Object(o.a)(Object(o.a)({},e),{},{rows:le.singleList.Message.Detail})})),w=le.singleList.Message.Detail;pe((function(e){return Object(o.a)(Object(o.a)({},e),{},{RoutingHead:""})}))}}),[le]),Object(s.useEffect)((function(){je.error&&(he(Object(o.a)(Object(o.a)({},Se),{},{msg:je.error.message,severity:"error",open:!0})),be(Object(m.n)())),je.lookupData&&(!0===je.lookupData.Success&&(G(je.lookupData.Message.Machine),Z(je.lookupData.Message.Stages)),be(Object(m.o)()))}),[je]);var Ne=function(e,t,n){console.log({value:e}),console.log({rowData:t});var i=Object(a.a)(w),c=i.indexOf(t);i[c][n]=e,De(Object(o.a)(Object(o.a)({},we),{},{rows:i}))},Re=function(){he((function(e){return Object(o.a)(Object(o.a)({},e),{},{registerNotOpen:!1})}))},Le=function(){he(Object(o.a)(Object(o.a)({},Se),{},{open:!1}))},ke=function(e,t,n){if("Machine"===n){var a=w,i=a.indexOf(M);a[i].MachineCode=t.MachineCode,a[i].MachineName=t.MachineName,a[i].LaborPerUnit=t.LaborPerUnit,a[i].OutputPerUnit=t.OutputPerUnit,a[i].PowerPerUnit=t.PowerPerUnit,N(!1),De(Object(o.a)(Object(o.a)({},we),{},{rows:a}))}else if("Stage"===n){var c=w,r=c.indexOf(M);c[r].StageCode=t.StageCode,c[r].StageName=t.StageName,F(!1),De(Object(o.a)(Object(o.a)({},we),{},{rows:c}))}},ye=function(e){var t="FormName=".concat(C,"&RoutingCode=").concat(e.RoutingCode);be(Object(m.j)(t))},Me=function(){ue(!0),ye({RoutingCode:ge.RoutingCode})};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(c.a,{container:!0,children:[Object(v.jsx)(c.a,{item:!0,xs:12,children:Object(v.jsx)(f.d,{property:Se,close:Le,onClick:Le})}),Object(v.jsx)(f.k,{Details:"Routing Maintenance List",FormName:"Routing",FormCode:"RoutingCode",FormId:x.f,props:e,dialog:!0,AddData:function(){he((function(e){return Object(o.a)(Object(o.a)({},e),{},{editData:!1,registerNotOpen:!0,newData:!0})})),De((function(e){return Object(o.a)(Object(o.a)({},e),{},{rows:[]})})),pe((function(e){return Object(o.a)(Object(o.a)({},e),{},{RoutingCode:"",RoutingName:"",IsActive:!0})})),ie(!1),ue(!1),xe()},EditData:function(e){pe(e),ie(!1),he((function(e){return Object(o.a)(Object(o.a)({},e),{},{registerNotOpen:!0,editList:!0,newList:!1})})),ye(e),xe()},DialogClose:Re,saveFunction:T,SetRowDataID:function(e){te(e.RoutingCode)},dosaveFunction:q,setLoadingOnSave:J,ID:ee,ViewData:function(e){he((function(e){return Object(o.a)(Object(o.a)({},e),{},{registerNotOpen:!0,editData:!1,newData:!1})})),ye(e),ie(!0)},FormID:"Routing",postingIcons:!1,isEditButton:!0})]}),Object(v.jsx)(u.a,{widthAllow:"md",Title:"Routing Maintenance",IsOpen:Se.registerNotOpen,Close:Re,Body:Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(c.a,{container:!0,spacing:3,children:Object(v.jsx)(c.a,{item:!0,xs:12,children:Object(v.jsx)(b.a,{children:Object(v.jsxs)(c.a,{container:!0,spacing:2,alignItems:"center",children:[Object(v.jsx)(c.a,{item:!0,xs:5,children:Object(v.jsx)(f.g,{label:"Routing Code",value:ge.RoutingCode,Change:function(e){return pe(Object(o.a)(Object(o.a)({},ge),{},{RoutingCode:e.target.value}))},Blur:Me,disabled:oe||se||Se.editList})}),Object(v.jsx)(c.a,{item:!0,xs:5,children:Object(v.jsx)(f.g,{label:"Routing Name",value:ge.RoutingName,Change:function(e){return pe(Object(o.a)(Object(o.a)({},ge),{},{RoutingName:e.target.value}))},disabled:oe})}),Object(v.jsx)(c.a,{item:!0,xs:2,children:Object(v.jsx)(f.a,{label:"Active",disabled:oe,checked:ge.IsActive,Change:function(e){return pe(Object(o.a)(Object(o.a)({},ge),{},{Active:ge.IsActive}))}})}),Object(v.jsx)(c.a,{item:!0,xs:1}),Object(v.jsx)(c.a,{item:!0,xs:12,children:Object(v.jsx)(j.a,{columns:we.columns,data:we.rows,title:!0===!oe?Object(v.jsx)("div",{children:Object(v.jsx)(r.a,{variant:"text",onClick:function(){return function(){var e=Object(a.a)(we.rows),t={StageCode:"",StageName:"",LaborPerUnit:"",OutputPerUnit:"",PowerPerUnit:"",MachineCode:"",MachineName:"",StandardHours:"",isDisabled:!1};e.length?(e[e.length-1],t.StageSeq=e.length+1,e.push(Object(o.a)({},t))):(t.StageSeq=1,e.push(Object(o.a)({},t))),w=e,De(Object(o.a)(Object(o.a)({},we),{},{rows:w}))}()},children:"+ Add Item"})}):null,icons:h.a,style:{border:"none",backgroundColor:"transparent",boxShadow:"none",paddingTop:"0px !important"},options:{showTitle:!0,toolbar:!0,paging:!1,actionsColumnIndex:-1,pageSize:5,pageSizeOptions:[5,10,20,30],search:!1,loadingType:"linear",headerStyle:{fontWeight:"bold",paddingLeft:"10px",paddingRight:"0px",paddingTop:"0px",paddingBottom:"0px",textAlign:"left"},actionsCellStyle:{justifyContent:"center",alignItems:"center",width:20}},actions:[function(e){return{icon:function(){return Object(v.jsx)(d.a,{sx:{color:g.a[500]},style:{height:"1em",width:"1em"}})},tooltip:"Delete",disabled:oe,onClick:function(e){!function(e){var t=Object(a.a)(we.rows),n=t.indexOf(e);t.splice(n,1),De(Object(o.a)(Object(o.a)({},we),{},{rows:t}))}(e)}}}]})})]})})})})}),ButtonTitle1:"Save",ButtonTitle2:"Cancel",ButtonTitle3:"OK",Save:function(){if(ie(!1),null===ge.RoutingCode||void 0===ge.RoutingCode||""===ge.RoutingCode?(he((function(e){return Object(o.a)(Object(o.a)({},e),{},{open:!0,severity:"error",msg:"Routing Code is Empty",registerNotOpen:!0})})),0):null===ge.RoutingName||void 0===ge.RoutingName||""===ge.RoutingName?(he((function(e){return Object(o.a)(Object(o.a)({},e),{},{open:!0,severity:"error",msg:"RoutingName is Empty",registerNotOpen:!0})})),0):0===we.rows.length?(he(Object(o.a)(Object(o.a)({},Se),{},{msg:" Sequence Data can not be empyt",severity:"error",open:!0,registerNotOpen:!0})),0):!(we.rows.filter((function(e,t){return""===e.StageCode||""===e.StageName||""===e.MachineCode||""===e.StandardHours})).length>0)||(he(Object(o.a)(Object(o.a)({},Se),{},{msg:"Please completly Fill Rows Data",severity:"error",open:!0,registerNotOpen:!0})),0)){var e={FormName:C,Header:ge,Detail:we.rows};be(Object(m.a)(e))}},ShowSave:oe}),Object(v.jsx)(f.j,{large:!1,LookUpHeading:"Machine LookUp",LookUpOpen:D,LookUpClose:function(){return N(!1)},setLookUpData:function(e,t){return ke(0,t,"Machine")},LookupList:W}),Object(v.jsx)(f.j,{LookUpOpen:A,large:!1,LookUpHeading:"Stage LookUp",LookupList:Y,setLookUpData:function(e,t){return ke(0,t,"Stage")},LookUpClose:function(){return F(!1)},ok:function(){return F(!1)}})]})}},970:function(e,t,n){"use strict";var a=n(22),o=n(21),i=n(46),c=n(47),r=n(0),s=n(1037),u=n(738),l=n.n(u),j=n(1);r.Component}}]);
//# sourceMappingURL=20.f2265602.chunk.js.map