(this["webpackJsonpberry-material-react"]=this["webpackJsonpberry-material-react"]||[]).push([[10],{1468:function(e,t,a){"use strict";a.r(t);var n=a(24),o=a(4),i=a(14),r=a(0),c=a.n(r),l=a(699),s=a(689),u=a(406),d=a(407),b=a(681),j=a(736),O=a.n(j),p=(a(760),a(179)),m=a(742),v=a(749),f=a(747),g=a(154),h=a(759),w=a(746),D=a(1),y="Adjustments";t.default=function(){var e,t,a,j=Object(r.useState)(!1),x=Object(i.a)(j,2),T=x[0],S=x[1],L=Object(r.useState)(!1),C=Object(i.a)(L,2),k=(C[0],C[1],Object(r.useState)("")),I=Object(i.a)(k,2),N=I[0],A=I[1],R=Object(r.useState)(!1),M=Object(i.a)(R,2),F=M[0],U=M[1],B=Object(r.useState)(!1),H=Object(i.a)(B,2),Q=(H[0],H[1],Object(r.useState)(!1)),E=Object(i.a)(Q,2),J=(E[0],E[1]),P=Object(r.useState)(!0),V=Object(i.a)(P,2),W=V[0],_=V[1],q=Object(r.useState)([]),z=Object(i.a)(q,2),G=(z[0],z[1]),K=Object(r.useState)(!1),X=Object(i.a)(K,2),Y=(X[0],X[1]),Z=Object(r.useState)(0),$=Object(i.a)(Z,2),ee=($[0],$[1]),te=Object(r.useState)(!1),ae=Object(i.a)(te,2),ne=(ae[0],ae[1]),oe=c.a.useState(new Date),ie=Object(i.a)(oe,2),re=(ie[0],ie[1],Object(r.useState)(!1)),ce=Object(i.a)(re,2),le=(ce[0],ce[1],!1),se=Object(r.useState)({TransNo:"",TransType:"AdjInward",TransDate:new Date,RequireDate:new Date,LocationCode:"",Location:"",Status:"",Remarks:"",TransTotalTotal:0}),ue=Object(i.a)(se,2),de=ue[0],be=ue[1],je=Object(r.useState)({registerNotOpen:!0,viewList:!1,newList:!1,editList:!1}),Oe=Object(i.a)(je,2),pe=Oe[0],me=Oe[1],ve=Object(r.useState)({columns:[{title:"Item Code",field:"ItemCode",cellStyle:{width:"15%"}},{title:"Item",field:"Item",cellStyle:{width:"35%"}},{title:"Job",field:"Job",cellStyle:{width:"15%"},render:function(e){return Object(D.jsx)(Dropdown,{optionLabel:"JobCode",disabled:disabledItemTable||e.ViewData,value:e.UOM,style:{border:"0px solid"},options:e.IN_ItemUOMs,onChange:function(t){return updateTableData(t,e,"Job")},placeholder:"Select a Job"})}},{title:"UOM",field:"UOM",cellStyle:{width:"25%"},render:function(e){return Object(D.jsx)(Dropdown,{optionLabel:"UOMCode",disabled:disabledItemTable||e.ViewData,value:e.UOM,style:{border:"0px solid"},options:e.IN_ItemUOMs,onChange:function(t){return updateTableData(t,e,"UOM")},placeholder:"Select a UOM"})}},{title:"Quantity",field:"Qty",cellStyle:{width:"20%"},render:function(e){return Object(D.jsx)(NumberFormat,{InputLabelProps:{shrink:!0},placeholder:"0.00",style:{border:"0px solid",display:"block"},customInput:TextFieldRightAlignedForNumber,disabled:""===e.UOM||e.ViewData,thousandSeparator:!0,decimalScale:2,fixedDecimalScale:2,value:e.Qty,onChange:function(t){return updateTableData(Number(t.target.value.split(",").join("")),e,"Qty")},fullWidth:!0})}},{title:"Price",field:"UnitPrice",cellStyle:{width:"20%"},render:function(e){return Object(D.jsx)(NumberFormat,{InputLabelProps:{shrink:!0},placeholder:"0.00",style:{border:"0px solid",display:"block"},customInput:TextFieldRightAlignedForNumber,disabled:""===e.UOM||e.ViewData,thousandSeparator:!0,decimalScale:2,fixedDecimalScale:2,value:e.Price,onChange:function(t){return updateTableData(Number(t.target.value.split(",").join("")),e,"Price")},fullWidth:!0})}},{title:"Amount",field:"Amount",cellStyle:{width:"20%"},render:function(e){return Object(D.jsx)(NumberFormat,{InputLabelProps:{shrink:!0},placeholder:"0.00",style:{border:"0px solid",display:"block"},customInput:TextFieldRightAlignedForNumber,disabled:""===e.UOM||e.ViewData,thousandSeparator:!0,decimalScale:2,fixedDecimalScale:2,value:e.Amount,onChange:function(t){return updateTableData(Number(t.target.value.split(",").join("")),e,"Amount")},fullWidth:!0})}}],rows:[]}),fe=Object(i.a)(ve,2),ge=fe[0],he=fe[1],we=Object(r.useState)({columns:[],rows:[]}),De=Object(i.a)(we,2),ye=De[0],xe=De[1],Te=Object(p.c)(),Se=Object(p.d)((function(e){return e.lookupRes})),Le=Object(p.d)((function(e){return e.AllActionsRes})),Ce=null===Le||void 0===Le||null===(e=Le.singleList)||void 0===e||null===(t=e.Message)||void 0===t?void 0:t.Header;Object(r.useEffect)((function(){if(Le.error)Te(Object(m.m)());else if(null!==Le&&void 0!==Le&&Le.singleList){var e,t;if(!0===(null===Le||void 0===Le?void 0:Le.singleList.Success))be(null===Le||void 0===Le||null===(e=Le.singleList)||void 0===e?void 0:e.Message.Header),he(Object(o.a)(Object(o.a)({},ge),{},{rows:null===Le||void 0===Le||null===(t=Le.singleList)||void 0===t?void 0:t.Message.Detail})),Te(Object(m.m)());else setOnBlueDisable(!1)}}),[Le]);var ke=function(){if(""===de.ItemCode||void 0===de.ItemCode||null===de.ItemCode?(me({open:!0,severity:"error",msg:"Empty BoM Code Not Allowed"}),0):""===de.Quantity||void 0===de.Quantity||null===de.Quantity?(me({open:!0,severity:"error",msg:"Empty Qunatity Not Allowed"}),0):""!==de.Location&&void 0!==de.Location&&null!==de.ShiftHeaLocationd||(me({open:!0,severity:"error",msg:"Empty Location Not Allowed"}),0)){var e,t,a="Release"===de.ADJStatus?Object(n.a)(null===Se||void 0===Se||null===(e=Se.lookupData2)||void 0===e||null===(t=e.Message)||void 0===t?void 0:t.ADJDetail):[],i={FormName:y,Header:de,Detail:a};Te(Object(m.a)(i)),be({TransDate:new Date,TransNo:"",TransType:"AdjInward",LocationCode:"",Location:"",ItemCode:"",Item:"",UOMCode:"",UOM:"",RoutingCode:"",RoutingName:"",TransStatus:"",UnitQuantity:"",Quantity:"",BaseQuantity:"",ADJStatus:""}),me((function(e){return Object(o.a)(Object(o.a)({},e),{},{registerNotOpen:!0,open:!1,severity:null,msg:""})})),he((function(e){return Object(o.a)(Object(o.a)({},e),{},{rows:[]})}))}},Ie=function(){me(Object(o.a)(Object(o.a)({},pe),{},{open:!1}))},Ne=function(){Te(Object(m.d)("FormName=".concat("Locations")))};Object(r.useEffect)((function(){null!==Se&&void 0!==Se&&Se.lookupDataInventory&&(!0===(null===Se||void 0===Se?void 0:Se.lookupDataInventory.Success)?xe(Se.lookupDataInventory.Message.Location):me({open:!0,severity:"error",msg:"Some Thing Went Wrong"}))}),[null===Se||void 0===Se?void 0:Se.lookupDataInventory]),Object(r.useEffect)((function(){var e,t;null!==Se&&void 0!==Se&&Se.lookupData2&&(!0===(null===Se||void 0===Se||null===(e=Se.lookupData2)||void 0===e?void 0:e.Success)?he(Object(o.a)(Object(o.a)({},ge),{},{rows:null===Se||void 0===Se||null===(t=Se.lookupData2)||void 0===t?void 0:t.Message.ADJDetail})):me({open:!0,severity:"error",msg:"Some Thing Went Wrong"}))}),[null===Se||void 0===Se?void 0:Se.lookupData2]);return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(l.a,{item:!0,xs:12,children:Object(D.jsx)(v.d,{property:pe,close:Ie,onClick:Ie})}),pe.registerNotOpen?Object(D.jsx)(l.a,{container:!0,children:Object(D.jsx)(v.k,{Details:"Transfer Entry List",FormName:y,DialogClose:function(){me((function(e){return Object(o.a)(Object(o.a)({},e),{},{registerNotOpen:!0,msg:""})})),be({TransNo:"",TransType:"AdjInward",TransDate:new Date,RequireDate:new Date,LocationCode:"",Location:"",Status:"",Remarks:"",TransTotalTotal:0}),he((function(e){return Object(o.a)(Object(o.a)({},e),{},{rows:[]})})),ne(!1),S(!1)},dialog:!0,AddData:function(e){me((function(e){return Object(o.a)(Object(o.a)({},e),{},{registerNotOpen:!1,viewList:!1})})),Ne(),he(Object(o.a)(Object(o.a)({},ge),{},{rows:[]}))},EditData:function(e){var t;ne(!0),be(e),he(Object(o.a)(Object(o.a)({},ge),{},{rows:null===Se||void 0===Se||null===(t=Se.lookupData2)||void 0===t?void 0:t.Message.ADJDetail})),me((function(e){return Object(o.a)(Object(o.a)({},e),{},{registerNotOpen:!1,viewList:!1})})),Ne()},SetRowDataID:function(e,t){"Delete"===t&&("1"==e.TransStatus?(me({open:!0,severity:"error",msg:"This entry cannot b deleted",registerNotOpen:!0}),A("")):A(e.TransNo))},dosaveFunction:ee,setLoadingOnSave:J,ID:N,ViewData:function(e){ne(!0),me((function(e){return Object(o.a)(Object(o.a)({},e),{},{CodeMsg:"",registerNotOpen:!1,viewList:!0})}));var t="FormName=".concat("Adjustments","&TransNo=",e.TransNo);Te(Object(m.j)(t)),be(Object(o.a)(Object(o.a)({},de),{},{RoutingName:null===Ce||void 0===Ce?void 0:Ce.RoutingName})),S(!0)},FormID:y,FormCode:"TransNo",isPostButton:!0,isEditButton:!0})}):Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(l.a,{container:!0,spacing:3,children:Object(D.jsxs)(l.a,{item:!0,xs:12,children:[Object(D.jsxs)(g.a,{children:[Object(D.jsx)(w.a,{children:Object(D.jsx)(s.a,{children:Object(D.jsx)(l.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:Object(D.jsx)(l.a,{item:!0,children:Object(D.jsx)(h.a,{goBack:function(){return me((function(e){return Object(o.a)(Object(o.a)({},e),{},{registerNotOpen:!0,msg:""})})),be({TransNo:"",TransType:"AdjInward",TransDate:new Date,RequireDate:new Date,LocationCode:"",Location:"",Status:"",Remarks:"",TransTotalTotal:0}),he((function(e){return Object(o.a)(Object(o.a)({},e),{},{rows:[]})})),ne(!1),void S(!1)},clearAll_OnClick:function(){be(Object(o.a)(Object(o.a)({},de),{},{TransNo:"",TransType:"AdjInward",TransDate:new Date,RequireDate:new Date,LocationCode:"",Location:"",Status:"",Remarks:"",TransTotalTotal:0}))},clearAll:T,copyBomDisabled:T,saveAndClose:pe.viewList,saveAndClose_OnClick:function(){saveAndClose()},FormID:1,submitButton:pe.viewList,SaveButton:pe.viewList,Button2:!pe.newList,submit:!pe.viewList,SaveButton_OnClick:function(){return ke()},submitButton_OnClick:function(){return postAndSave()},Button2_OnClick:function(){return printVoucher()},isView:T})})})})}),Object(D.jsx)(u.a,{}),Object(D.jsx)(d.a,{children:Object(D.jsxs)(l.a,{container:!0,spacing:2,alignItems:"center",children:[Object(D.jsx)(l.a,{item:!0,xs:4,children:Object(D.jsx)(v.g,{label:"Trans No",name:"TransNo",value:de.TransNo,disabled:!0})}),Object(D.jsx)(l.a,{item:!0,xs:4,children:Object(D.jsx)(v.e,{id:"ADJDate",label:"Trans Date *",name:"TransaDate",value:de.TransDate,Change:function(e){return be(Object(o.a)(Object(o.a)({},de),{},{TransDate:e}))},disabled:T})}),Object(D.jsx)(l.a,{item:!0,xs:4,children:Object(D.jsx)(v.b,{disabled:T,list:[{code:"AdjInward",value:"Inward Adjustment"},{code:"Adjustment",value:"Outward Adjustment"},{code:"Consumption",value:"Consumption"},{code:"Damage",value:"Damage"},{code:"Expiry",value:"Expiry"}],value:de.TransType,id:"Adjustment Type",Change:function(e){be(Object(o.a)(Object(o.a)({},de),{},{TransType:e.target.value})),e.target.value},label:"Adjustment Type"})}),Object(D.jsx)(l.a,{item:!0,xs:4,children:Object(D.jsx)(v.c,{disabled:T,label:"Location *",name:"Location",reference:"Location",onClick:function(){return U(!0)},lookupOpen:F,columns:ye.columns,rows:null===ye||void 0===ye?void 0:ye.rows,onBlurDiv:function(){return U(!1)},onFocus:function(){return _(!1)},onBlur:function(e){setTimeout((function(){Y(!1),Object(f.a)({setProperty:me,property:pe,Header:de,setHeader:be,selectLookupVal:W,lookupSelectRow:le},a,ye.rows,["LocationCode","Location"],["Code","Description"],"Location Code"),U(!1)}),200)},changeLookupVal:function(e,t){a=t,le=!1},propertyName:"LocationCode",listForSearch:null===ye||void 0===ye?void 0:ye.rows,setSearchRowProp:function(e){G(e)},setFilterProp:function(e){return Y(e)},setLookupEnable:function(){return me((function(e){return Object(o.a)(Object(o.a)({},e),{},{bomCodeLookUp:!0})}))},value:de.Location,lookupValuesList:["LocationCode","Location"],setLookUpData:function(e,t){return function(e,t,a){e.target.value,"Location"==a&&(be(Object(o.a)(Object(o.a)({},de),{},{Location:null===t||void 0===t?void 0:t.Location,LocationCode:null===t||void 0===t?void 0:t.LocationCode})),U(!1))}(e,t,"Location")}})}),Object(D.jsx)(l.a,{item:!0,xs:8,children:Object(D.jsx)(v.g,{label:"Remarks",name:"Remarks",value:de.Remarks,disabled:T,Change:function(e){return be(Object(o.a)(Object(o.a)({},de),{},{Remarks:e}))}})})]})})]}),Object(D.jsx)("br",{}),Object(D.jsx)(l.a,{container:!0,spacing:2,alignItems:"center",children:Object(D.jsxs)(l.a,{item:!0,xs:12,children:[Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{style:{padding:"15px"},title:Object(D.jsx)("div",{children:Object(D.jsx)(b.a,{variant:"text",onClick:function(){return function(){var e=Object(n.a)(ge.rows);e.push(Object(o.a)({},{ItemCode:"",ItemName:"",UOMCode:"",CStatus:0,UOM:"",UnitQuantity:1,Quantity:1,BaseQuantity:1,StageCode:"",StageName:"",MachineName:"",MachineCode:"",StageSeq:""})),newRowsArr=e,he(Object(o.a)(Object(o.a)({},ge),{},{rows:e}))}()},children:"+ Add Item"})}),columns:ge.columns,data:ge.rows,options:{showTitle:!0!==pe.viewList,paging:!1,actionsColumnIndex:-1,pageSize:5,pageSizeOptions:[5,10,20,30],search:!1,loadingType:"linear",headerStyle:{fontWeight:"bold",paddingLeft:"10px",paddingRight:"0px",paddingTop:"0px",paddingBottom:"0px",textAlign:"left"},actionsCellStyle:{justifyContent:"center",alignItems:"center",width:20}},actions:[function(e){return{icon:function(){return Object(D.jsx)(DeleteOutline,{sx:{color:red[500]},style:{height:"1em",width:"1em"}})},tooltip:"Delete",onClick:function(t){onClickDelete(t,e)}}}],localization:{body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Filter"}}}})]})})]})})})]})}},746:function(e,t,a){"use strict";var n=a(0),o=a.n(n),i=a(51),r=a(720),c=a(1456),l=a(66);t.a=function(e){var t=e.children,a=e.window,n=Object(i.a)(),s=Object(r.a)(n.breakpoints.down("lg")),u=Object(l.e)((function(e){return e.menu})).drawerOpen,d=s?80:83,b=s?38:41,j=s?38:u?281:42,O=Object(c.a)({disableHysteresis:!0,threshold:180,target:a||void 0}),p="dark"===n.palette.mode?n.palette.dark.dark:n.palette.grey[200];return o.a.cloneElement(t,{style:{backgroundColor:n.palette.background.default,zIndex:1099,borderTop:O?"1px solid":"none",borderBottom:O?"1px solid":"none",borderColor:O?p:"",position:O?"fixed":"relative",top:O?d:"auto",right:O?b:"auto",left:O?j:"auto"}})}},747:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(4);function o(e,t,a,o,i,r,c,l){if(!1===e.lookupSelectRow){if(void 0!==t&&(t=t.toLowerCase(),!e.selectLookupVal)){var s=a.filter((function(e,a){return e[i[0]].toString().toLowerCase().indexOf(t)>-1||e[i[1]].toString().toLowerCase().indexOf(t)>-1}));if(0===s.length&&t){e.setProperty((function(e){return Object(n.a)(Object(n.a)({},e),{},{open:!0,severity:"error",msg:"Invalid ".concat(r)})}));for(var u=0;u<o.length;u++)e.Header[o[u]]="",e.setHeader(Object(n.a)({},e.Header));console.log({Header:e.Header})}else if(s.length&&t)if(c)switch(r){case"Customers":l(null,s[0],"Customers");break;case"Item":l(null,s[0],"Item");break;case"Routing":l(null,s[0],"Routing");break;default:l("donor",s[0],o,i)}else{for(var d=0;d<o.length;d++)e.Header[o[d]]=s[0][i[d]],e.setHeader(Object(n.a)({},e.Header));"Bank"===r&&l(s[0])}}if(""===t)for(var b=0;b<o.length;b++)e.Header[o[b]]="",e.setHeader(Object(n.a)({},e.Header))}}}}]);
//# sourceMappingURL=10.8e0539b9.chunk.js.map